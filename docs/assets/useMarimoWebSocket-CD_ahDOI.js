const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./slides-component-Butt8x-k.js","./index-D3XtisvU.js","./index-33Q7xM_A.css","./slides-component-CD4qq_xs.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{u as n,dA as r,L as o,dB as a,az as s,dd as i,dC as l,aA as c,c2 as u,dD as d,S as p,d as f,af as h,ag as m,j as g,a as y,R as b,bp as v,dE as w,dF as x,dG as S,dH as _,aJ as O,bi as j,dt as E,dI as D,dJ as C,bK as k,dK as N,dL as R,bk as P,be as M,bd as z,dM as T,dN as L,dO as I,dw as H,dP as W,Q as A,dQ as q,bI as B,aM as F,ap as G,dR as V,dS as U,dT as Y,n as $,a2 as X,aO as K,bv as Q,dU as J,di as Z,dV as ee,ar as te,dW as ne,bN as re,aa as oe,dX as ae,dY as se,dZ as ie,T as le,d_ as ce,d$ as ue,e0 as de,e1 as pe,e2 as fe,X as he,ac as me,e3 as ge,e4 as ye,e5 as be,e6 as ve,e7 as we,e8 as xe,e9 as Se,ea as _e,ak as Oe,dj as je,eb as Ee,ec as De,ed as Ce,ee as ke,ef as Ne,eg as Re,eh as Pe,ei as Me,ej as ze,ek as Te,el as Le,em as Ie,en as He,eo as We,ep as Ae,eq as qe,er as Be,es as Fe,et as Ge,eu as Ve,ev as Ue,ew as Ye,ex as $e,bw as Xe,ey as Ke,ez as Qe,eA as Je,eB as Ze,aE as et,eC as tt,eD as nt,eE as rt,eF as ot,eG as at,eH as st,cx as it,bG as lt,eI as ct,eJ as ut,a8 as dt,bx as pt,eK as ft,eL as ht,eM as mt,eN as gt,eO as yt,eP as bt,eQ as vt,eR as wt,eS as xt,eT as St,eU as _t,eV as Ot,eW as jt,eX as Et,eY as Dt,al as Ct,eZ as kt,e_ as Nt,e$ as Rt,f0 as Pt,f1 as Mt,f2 as zt,f3 as Tt,f4 as Lt,f5 as It}from"./index-D3XtisvU.js";import{a as Ht}from"./index-CVDTCVTM.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=n("align-end-vertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]),At=n("align-horizontal-space-around",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]),qt=n("align-start-vertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),Bt=n("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Ft=n("folder-down",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),Gt=n("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Vt=n("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ut=n("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Yt=n("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$t=n("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Xt=n("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Kt=n("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Qt=n("square-arrow-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Jt=n("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Zt=n("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);class en{static get INSTANCE(){const e="_marimo_private_RuntimeState";return window[e]||(window[e]=new en(r)),window[e]}constructor(e){this.uiElementRegistry=e,this.hasStarted=!1,this._sendComponentValues=void 0,this.handleReadyEvent=e=>{const t=e.detail.objectId;if(!this.uiElementRegistry.has(t))return;const n=this.uiElementRegistry.lookupValue(t);void 0!==n&&this.sendComponentValues({objectIds:[t],values:[n]}).catch((e=>{o.warn(e)}))}}get sendComponentValues(){if(!this._sendComponentValues)throw new Error("sendComponentValues is not set");return this._sendComponentValues}start(e){this.hasStarted?o.warn("RuntimeState already started"):(this._sendComponentValues=e,document.addEventListener(a.TYPE,this.handleReadyEvent),this.hasStarted=!0)}stop(){this.hasStarted?(document.removeEventListener(a.TYPE,this.handleReadyEvent),this.hasStarted=!1):o.warn("RuntimeState already stopped")}}var tn,nn={exports:{}},rn={},on={exports:{}};function an(){return tn||(tn=1,function(e){function t(e){return function(t,n,r,o,a,s,i){return e(t,n,i)}}function n(e){return function(t,n,r,o){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r,o);var a=o.get(t),s=o.get(n);if(a&&s)return a===n&&s===t;o.set(t,n),o.set(n,t);var i=e(t,n,r,o);return o.delete(t),o.delete(n),i}}function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function o(e){return e.constructor===Object||null==e.constructor}function a(e){return"function"==typeof e.then}function s(e,t){return e===t||e!=e&&t!=t}var i="[object Arguments]",l="[object Boolean]",c="[object Date]",u="[object RegExp]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Set]",m="[object String]",g=Object.prototype.toString;function y(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,y=e.areObjectsEqual,b=e.areRegExpsEqual,v=e.areSetsEqual,w=(0,e.createIsNestedEqual)(x);function x(e,x,S){if(e===x)return!0;if(!e||!x||"object"!=typeof e||"object"!=typeof x)return e!=e&&x!=x;if(o(e)&&o(x))return y(e,x,w,S);var _=Array.isArray(e),O=Array.isArray(x);if(_||O)return _===O&&t(e,x,w,S);var j=g.call(e);return j===g.call(x)&&(j===c?n(e,x,w,S):j===u?b(e,x,w,S):j===d?r(e,x,w,S):j===h?v(e,x,w,S):j===f||j===i?!a(e)&&!a(x)&&y(e,x,w,S):(j===l||j===p||j===m)&&s(e.valueOf(),x.valueOf()))}return x}function b(e,t,n,r){var o=e.length;if(t.length!==o)return!1;for(;o-- >0;)if(!n(e[o],t[o],o,o,e,t,r))return!1;return!0}var v=n(b);function w(e,t){return s(e.valueOf(),t.valueOf())}function x(e,t,n,r){var o=e.size===t.size;if(!o)return!1;if(!e.size)return!0;var a={},s=0;return e.forEach((function(i,l){if(o){var c=!1,u=0;t.forEach((function(o,d){c||a[u]||!(c=n(l,d,s,u,e,t,r)&&n(i,o,l,d,e,t,r))||(a[u]=!0),u++})),s++,o=c}})),o}var S=n(x),_="_owner",O=Object.prototype.hasOwnProperty;function j(e,t,n,r){var o,a=Object.keys(e),s=a.length;if(Object.keys(t).length!==s)return!1;for(;s-- >0;){if((o=a[s])===_){var i=!!e.$$typeof,l=!!t.$$typeof;if((i||l)&&i!==l)return!1}if(!O.call(t,o)||!n(e[o],t[o],o,o,e,t,r))return!1}return!0}var E=n(j);function D(e,t){return e.source===t.source&&e.flags===t.flags}function C(e,t,n,r){var o=e.size===t.size;if(!o)return!1;if(!e.size)return!0;var a={};return e.forEach((function(s,i){if(o){var l=!1,c=0;t.forEach((function(o,u){l||a[c]||!(l=n(s,o,i,u,e,t,r))||(a[c]=!0),c++})),o=l}})),o}var k=n(C),N=Object.freeze({areArraysEqual:b,areDatesEqual:w,areMapsEqual:x,areObjectsEqual:j,areRegExpsEqual:D,areSetsEqual:C,createIsNestedEqual:t}),R=Object.freeze({areArraysEqual:v,areDatesEqual:w,areMapsEqual:S,areObjectsEqual:E,areRegExpsEqual:D,areSetsEqual:k,createIsNestedEqual:t}),P=y(N);function M(e,t){return P(e,t,void 0)}var z=y(r(N,{createIsNestedEqual:function(){return s}}));function T(e,t){return z(e,t,void 0)}var L=y(R);function I(e,t){return L(e,t,new WeakMap)}var H=y(r(R,{createIsNestedEqual:function(){return s}}));function W(e,t){return H(e,t,new WeakMap)}function A(e){return y(r(N,e(N)))}function q(e){var t=y(r(R,e(R)));return function(e,n,r){return void 0===r&&(r=new WeakMap),t(e,n,r)}}e.circularDeepEqual=I,e.circularShallowEqual=W,e.createCustomCircularEqual=q,e.createCustomEqual=A,e.deepEqual=M,e.sameValueZeroEqual=s,e.shallowEqual=T,Object.defineProperty(e,"__esModule",{value:!0})}(on.exports)),on.exports}var sn,ln={exports:{}};function cn(){if(sn)return ln.exports;function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function t(){for(var t,n,r=0,o="",a=arguments.length;r<a;r++)(t=arguments[r])&&(n=e(t))&&(o&&(o+=" "),o+=n);return o}return sn=1,ln.exports=t,ln.exports.clsx=t,ln.exports}var un,dn,pn,fn={};function hn(){if(pn)return fn;pn=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.bottom=r,fn.childrenEqual=function(e,r){return(0,t.deepEqual)(n.default.Children.map(e,(e=>null==e?void 0:e.key)),n.default.Children.map(r,(e=>null==e?void 0:e.key)))&&(0,t.deepEqual)(n.default.Children.map(e,(e=>null==e?void 0:e.props["data-grid"])),n.default.Children.map(r,(e=>null==e?void 0:e.props["data-grid"])))},fn.cloneLayout=o,fn.cloneLayoutItem=i,fn.collides=l,fn.compact=c,fn.compactItem=p,fn.compactType=function(e){const{verticalCompact:t,compactType:n}=e||{};return!1===t?null:n},fn.correctBounds=f,fn.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},fn.fastRGLPropsEqual=void 0,fn.getAllCollisions=g,fn.getFirstCollision=m,fn.getLayoutItem=h,fn.getStatics=y,fn.modifyLayout=a,fn.moveElement=b,fn.moveElementAwayFromCollision=v,fn.noop=void 0,fn.perc=function(e){return 100*e+"%"},fn.resizeItemInDirection=function(e,t,n,r){const o=C[e];return o?o(t,{...t,...n},r):n},fn.setTopLeft=function(e){let{top:t,left:n,width:r,height:o}=e;return{top:`${t}px`,left:`${n}px`,width:`${r}px`,height:`${o}px`,position:"absolute"}},fn.setTransform=function(e){let{top:t,left:n,width:r,height:o}=e;const a=`translate(${n}px,${t}px)`;return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:`${r}px`,height:`${o}px`,position:"absolute"}},fn.sortLayoutItems=k,fn.sortLayoutItemsByColRow=R,fn.sortLayoutItemsByRowCol=N,fn.synchronizeLayoutWithChildren=function(e,t,o,a,s){e=e||[];const l=[];n.default.Children.forEach(t,(t=>{if(null==(null==t?void 0:t.key))return;const n=h(e,String(t.key)),o=t.props["data-grid"];n&&null==o?l.push(i(n)):o?l.push(i({...o,i:t.key})):l.push(i({w:1,h:1,x:0,y:r(l),i:String(t.key)}))}));const u=f(l,{cols:o});return s?u:c(u,a,o)},fn.validateLayout=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,o=e.length;r<o;r++){const o=e[r];for(let e=0;e<n.length;e++){const a=n[e],s=o[a];if("number"!=typeof s||Number.isNaN(s))throw new Error(`ReactGridLayout: ${t}[${r}].${a} must be a number! Received: ${s} (${typeof s})`)}if(void 0!==o.i&&"string"!=typeof o.i)throw new Error(`ReactGridLayout: ${t}[${r}].i must be a string! Received: ${o.i} (${typeof o.i})`)}},fn.withLayoutItem=function(e,t,n){let r=h(e,t);return r?(r=n(i(r)),[e=a(e,r),r]):[e,null]};var e,t=an(),n=(e=s())&&e.__esModule?e:{default:e};function r(e){let t,n=0;for(let r=0,o=e.length;r<o;r++)t=e[r].y+e[r].h,t>n&&(n=t);return n}function o(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=i(e[n]);return t}function a(e,t){const n=Array(e.length);for(let r=0,o=e.length;r<o;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function i(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function l(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function c(e,t,n,r){const o=y(e),a=k(e,t),s=Array(e.length);for(let l=0,c=a.length;l<c;l++){let c=i(a[l]);c.static||(c=p(o,c,t,n,a,r),o.push(c)),s[e.indexOf(a[l])]=c,c.moved=!1}return s}fn.fastRGLPropsEqual=dn?un:(dn=1,un=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)});const u={x:"w",y:"h"};function d(e,t,n,r){const o=u[r];t[r]+=1;for(let a=e.map((e=>e.i)).indexOf(t.i)+1;a<e.length;a++){const s=e[a];if(!s.static){if(s.y>t.y+t.h)break;l(t,s)&&d(e,s,n+t[o],r)}}t[r]=n}function p(e,t,n,o,a,s){const i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(r(e),t.y);t.y>0&&!m(e,t);)t.y--;else if(i)for(;t.x>0&&!m(e,t);)t.x--;let l;for(;(l=m(e,t))&&(null!==n||!s);)if(i?d(a,t,l.x+l.w,"x"):d(a,t,l.y+l.h,"y"),i&&t.x+t.w>o)for(t.x=o-t.w,t.y++;t.x>0&&!m(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function f(e,t){const n=y(e);for(let r=0,o=e.length;r<o;r++){const o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;m(n,o);)o.y++;else n.push(o)}return e}function h(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function m(e,t){for(let n=0,r=e.length;n<r;n++)if(l(e[n],t))return e[n]}function g(e,t){return e.filter((e=>l(e,t)))}function y(e){return e.filter((e=>e.static))}function b(e,t,n,r,a,s,i,l,c){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;t.i,String(n),String(r),t.x,t.y;const u=t.x,d=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;let p=k(e,i);("vertical"===i&&"number"==typeof r?d>=r:"horizontal"===i&&"number"==typeof n&&u>=n)&&(p=p.reverse());const f=g(p,t),h=f.length>0;if(h&&c)return o(e);if(h&&s)return t.i,t.x=u,t.y=d,t.moved=!1,e;for(let o=0,m=f.length;o<m;o++){const n=f[o];t.i,t.x,t.y,n.i,n.x,n.y,n.moved||(e=n.static?v(e,n,t,a,i):v(e,t,n,a,i))}return e}function v(e,t,n,r,o,a){const s="horizontal"===o,i="vertical"===o,l=t.static;if(r){r=!1;const a={x:s?Math.max(t.x-n.w,0):n.x,y:i?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},c=m(e,a),u=c&&c.y+c.h>t.y,d=c&&t.x+t.w>c.x;if(!c)return n.i,a.x,a.y,b(e,n,s?a.x:void 0,i?a.y:void 0,r,l,o);if(u&&i)return b(e,n,void 0,t.y+1,r,l,o);if(u&&null==o)return t.y=n.y,n.y=n.y+n.h,e;if(d&&s)return b(e,t,n.x,void 0,r,l,o)}const c=s?n.x+1:void 0,u=i?n.y+1:void 0;return null==c&&null==u?e:b(e,n,s?n.x+1:void 0,i?n.y+1:void 0,r,l,o)}const w=(e,t,n,r)=>e+n>r?t:n,x=(e,t,n)=>e<0?t:n,S=e=>Math.max(0,e),_=e=>Math.max(0,e),O=(e,t,n)=>{let{left:r,height:o,width:a}=t;const s=e.top-(o-e.height);return{left:r,width:a,height:x(s,e.height,o),top:_(s)}},j=(e,t,n)=>{let{top:r,left:o,height:a,width:s}=t;return{top:r,height:a,width:w(e.left,e.width,s,n),left:S(o)}},E=(e,t,n)=>{let{top:r,height:o,width:a}=t;const s=e.left-(a-e.width);return{height:o,width:s<0?e.width:w(e.left,e.width,a,n),top:_(r),left:S(s)}},D=(e,t,n)=>{let{top:r,left:o,height:a,width:s}=t;return{width:s,left:o,height:x(r,e.height,a),top:_(r)}},C={n:O,ne:function(){return O(arguments.length<=0?void 0:arguments[0],j(...arguments))},e:j,se:function(){return D(arguments.length<=0?void 0:arguments[0],j(...arguments))},s:D,sw:function(){return D(arguments.length<=0?void 0:arguments[0],E(...arguments))},w:E,nw:function(){return O(arguments.length<=0?void 0:arguments[0],E(...arguments))}};function k(e,t){return"horizontal"===t?R(e):"vertical"===t?N(e):e}function N(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function R(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}return fn.noop=()=>{},fn}var mn,gn={};function yn(){if(mn)return gn;function e(e){const{margin:t,containerPadding:n,containerWidth:r,cols:o}=e;return(r-t[0]*(o-1)-2*n[0])/o}function t(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function n(e,t,n){return Math.max(Math.min(e,n),t)}return mn=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.calcGridColWidth=e,gn.calcGridItemPosition=function(n,r,o,a,s,i){const{margin:l,containerPadding:c,rowHeight:u}=n,d=e(n),p={};i&&i.resizing?(p.width=Math.round(i.resizing.width),p.height=Math.round(i.resizing.height)):(p.width=t(a,d,l[0]),p.height=t(s,u,l[1]));i&&i.dragging?(p.top=Math.round(i.dragging.top),p.left=Math.round(i.dragging.left)):i&&i.resizing&&"number"==typeof i.resizing.top&&"number"==typeof i.resizing.left?(p.top=Math.round(i.resizing.top),p.left=Math.round(i.resizing.left)):(p.top=Math.round((u+l[1])*o+c[1]),p.left=Math.round((d+l[0])*r+c[0]));return p},gn.calcGridItemWHPx=t,gn.calcWH=function(t,r,o,a,s,i){const{margin:l,maxRows:c,cols:u,rowHeight:d}=t,p=e(t);let f=Math.round((r+l[0])/(p+l[0])),h=Math.round((o+l[1])/(d+l[1])),m=n(f,0,u-a),g=n(h,0,c-s);-1!==["sw","w","nw"].indexOf(i)&&(m=n(f,0,u));-1!==["nw","n","ne"].indexOf(i)&&(g=n(h,0,c));return{w:m,h:g}},gn.calcXY=function(t,r,o,a,s){const{margin:i,containerPadding:l,cols:c,rowHeight:u,maxRows:d}=t,p=e(t);let f=Math.round((o-l[0])/(p+i[0])),h=Math.round((r-l[1])/(u+i[1]));return f=n(f,0,c-a),h=n(h,0,d-s),{x:f,y:h}},gn.clamp=n,gn}var bn={},vn={exports:{}},wn={};function xn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=xn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Sn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=xn(e))&&(r&&(r+=" "),r+=t);return r}const _n=i(Object.freeze(Object.defineProperty({__proto__:null,clsx:Sn,default:Sn},Symbol.toStringTag,{value:"Module"})));var On,jn={},En={};function Dn(){if(On)return En;return On=1,Object.defineProperty(En,"__esModule",{value:!0}),En.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},En.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},En.int=function(e){return parseInt(e,10)},En.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},En.isNum=function(e){return"number"==typeof e&&!isNaN(e)},En}var Cn,kn,Nn={};function Rn(){if(kn)return jn;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}kn=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.addClassName=u,jn.addEvent=function(e,t,n,r){if(!e)return;var o=a({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},jn.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},jn.createCSSTransform=function(e,t){var r=c(e,t,"px");return s({},(0,n.browserPrefixToKey)("transform",n.default),r)},jn.createSVGTransform=function(e,t){return c(e,t,"")},jn.getTouch=function(e,n){return e.targetTouches&&(0,t.findInArray)(e.targetTouches,(function(e){return n===e.identifier}))||e.changedTouches&&(0,t.findInArray)(e.changedTouches,(function(e){return n===e.identifier}))},jn.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},jn.getTranslation=c,jn.innerHeight=function(e){var n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingTop),n-=(0,t.int)(r.paddingBottom)},jn.innerWidth=function(e){var n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingLeft),n-=(0,t.int)(r.paddingRight)},jn.matchesSelector=l,jn.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(l(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},jn.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:a}},jn.outerHeight=function(e){var n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderTopWidth),n+=(0,t.int)(r.borderBottomWidth)},jn.outerWidth=function(e){var n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderLeftWidth),n+=(0,t.int)(r.borderRightWidth)},jn.removeClassName=d,jn.removeEvent=function(e,t,n,r){if(!e)return;var o=a({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},jn.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&d(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var t=Dn(),n=function(t,n){if(t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var o=r(n);if(o&&o.has(t))return o.get(t);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var l=s?Object.getOwnPropertyDescriptor(t,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=t[i]}a.default=t,o&&o.set(t,a);return a}(function(){if(Cn)return Nn;Cn=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.browserPrefixToKey=n,Nn.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},Nn.default=void 0,Nn.getPrefix=t;var e=["Moz","Webkit","O","ms"];function t(){var t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var a=null===(t=window.document)||void 0===t||null===(r=t.documentElement)||void 0===r?void 0:r.style;if(!a)return"";if(o in a)return"";for(var s=0;s<e.length;s++)if(n(o,e[s])in a)return e[s];return""}function n(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var r=t();return Nn.default=r,Nn}());function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="";function l(e,n){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(n){return(0,t.isFunction)(e[n])}))),!!(0,t.isFunction)(e[i])&&e[i](n)}function c(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var s="".concat("string"==typeof t.x?t.x:t.x+n),i="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(s,", ").concat(i,")")+a}return a}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function d(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}return jn}var Pn,Mn={};function zn(){if(Pn)return Mn;Pn=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},Mn.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},Mn.createCoreData=function(t,r,o){var a=t.state,s=!(0,e.isNum)(a.lastX),i=n(t);return s?{node:i,deltaX:0,deltaY:0,lastX:r,lastY:o,x:r,y:o}:{node:i,deltaX:r-a.lastX,deltaY:o-a.lastY,lastX:a.lastX,lastY:a.lastY,x:r,y:o}},Mn.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},Mn.getBoundPosition=function(r,o,a){if(!r.props.bounds)return[o,a];var s=r.props.bounds;s="string"==typeof s?s:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(s);var i=n(r);if("string"==typeof s){var l,c=i.ownerDocument,u=c.defaultView;if(!((l="parent"===s?i.parentNode:c.querySelector(s))instanceof u.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');var d=l,p=u.getComputedStyle(i),f=u.getComputedStyle(d);s={left:-i.offsetLeft+(0,e.int)(f.paddingLeft)+(0,e.int)(p.marginLeft),top:-i.offsetTop+(0,e.int)(f.paddingTop)+(0,e.int)(p.marginTop),right:(0,t.innerWidth)(d)-(0,t.outerWidth)(i)-i.offsetLeft+(0,e.int)(f.paddingRight)-(0,e.int)(p.marginRight),bottom:(0,t.innerHeight)(d)-(0,t.outerHeight)(i)-i.offsetTop+(0,e.int)(f.paddingBottom)-(0,e.int)(p.marginBottom)}}(0,e.isNum)(s.right)&&(o=Math.min(o,s.right));(0,e.isNum)(s.bottom)&&(a=Math.min(a,s.bottom));(0,e.isNum)(s.left)&&(o=Math.max(o,s.left));(0,e.isNum)(s.top)&&(a=Math.max(a,s.top));return[o,a]},Mn.getControlPosition=function(e,r,o){var a="number"==typeof r?(0,t.getTouch)(e,r):null;if("number"==typeof r&&!a)return null;var s=n(o),i=o.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,t.offsetXYFromParent)(a||e,i,o.props.scale)},Mn.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]};var e=Dn(),t=Rn();function n(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}return Mn}var Tn,Ln,In,Hn,Wn={},An={};function qn(){if(Tn)return An;return Tn=1,Object.defineProperty(An,"__esModule",{value:!0}),An.default=function(){},An}function Bn(){if(Ln)return Wn;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}Ln=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=void 0;var t=function(t,n){if(t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var r=p(n);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var i=a?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=t[s]}o.default=t,r&&r.set(t,o);return o}(s()),n=d(c()),r=d(l()),o=Rn(),a=zn(),i=Dn(),u=d(qn());function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){i=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=v(t);if(n){var a=v(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}(this,r)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},S={start:"mousedown",move:"mousemove",stop:"mouseup"},_=S,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(s,e);var n=y(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return w(b(e=n.call.apply(n,[this].concat(r))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(b(e),"mounted",!1),w(b(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,o.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,o.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var s=(0,o.getTouchIdentifier)(t);e.setState({touchIdentifier:s});var i=(0,a.getControlPosition)(t,s,b(e));if(null!=i){var l=i.x,c=i.y,d=(0,a.createCoreData)(b(e),l,c);(0,u.default)("DraggableCore: handleDragStart: %j",d),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:c}),(0,o.addEvent)(r,_.move,e.handleDrag),(0,o.addEvent)(r,_.stop,e.handleDragStop))}}})),w(b(e),"handleDrag",(function(t){var n=(0,a.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var s=r-e.state.lastX,i=o-e.state.lastY,l=f((0,a.snapToGrid)(e.props.grid,s,i),2);if(s=l[0],i=l[1],!s&&!i)return;r=e.state.lastX+s,o=e.state.lastY+i}var c=(0,a.createCoreData)(b(e),r,o);if((0,u.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(p){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),w(b(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,a.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,s=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX||0,l=s-e.state.lastY||0,c=f((0,a.snapToGrid)(e.props.grid,i,l),2);i=c[0],l=c[1],r=e.state.lastX+i,s=e.state.lastY+l}var d=(0,a.createCoreData)(b(e),r,s);if(!1===e.props.onStop(t,d)||!1===e.mounted)return!1;var p=e.findDOMNode();p&&e.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(p.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",d),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),p&&((0,u.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(p.ownerDocument,_.move,e.handleDrag),(0,o.removeEvent)(p.ownerDocument,_.stop,e.handleDragStop))}}})),w(b(e),"onMouseDown",(function(t){return _=S,e.handleDragStart(t)})),w(b(e),"onMouseUp",(function(t){return _=S,e.handleDragStop(t)})),w(b(e),"onTouchStart",(function(t){return _=x,e.handleDragStart(t)})),w(b(e),"onTouchEnd",(function(t){return _=x,e.handleDragStop(t)})),e}return m(s,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,o.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,o.removeEvent)(t,S.move,this.handleDrag),(0,o.removeEvent)(t,x.move,this.handleDrag),(0,o.removeEvent)(t,S.stop,this.handleDragStop),(0,o.removeEvent)(t,x.stop,this.handleDragStop),(0,o.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:r.default.findDOMNode(this)}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),s}(t.Component);return Wn.default=O,w(O,"displayName","DraggableCore"),w(O,"propTypes",{allowAnyClick:n.default.bool,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),w(O,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Wn}function Fn(){return In||(In=1,function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),e.default=void 0;var n=function(e,n){if(e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var r=g(n);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}o.default=e,r&&r.set(e,o);return o}(s()),r=m(c()),o=m(l()),a=m(_n),i=Rn(),u=zn(),d=Dn(),p=m(Bn()),f=m(qn()),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){i=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=D(e);if(n){var a=D(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,r)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(c,e);var t,r,s,l=j(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),C(E(t=l.call(this,e)),"onDragStart",(function(e,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,u.createDraggableData)(E(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),C(E(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r=(0,u.createDraggableData)(E(t),n),o={x:r.x,y:r.y};if(t.props.bounds){var a=o.x,s=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var i=x((0,u.getBoundPosition)(E(t),o.x,o.y),2),l=i[0],c=i[1];o.x=l,o.y=c,o.slackX=t.state.slackX+(a-o.x),o.slackY=t.state.slackY+(s-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-t.state.x,r.deltaY=o.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(o)})),C(E(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,u.createDraggableData)(E(t),n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var o=t.props.position,a=o.x,s=o.y;r.x=a,r.y=s}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:w({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=c,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:w({},n)})}}],(r=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,o=t.defaultPosition,s=t.defaultClassName,l=t.defaultClassNameDragging,c=t.defaultClassNameDragged,d=t.position,f=t.positionOffset;t.scale;var m=b(t,h),g={},v=null,x=!Boolean(d)||this.state.dragging,S=d||o,_={x:(0,u.canDragX)(this)&&x?this.state.x:S.x,y:(0,u.canDragY)(this)&&x?this.state.y:S.y};this.state.isElementSVG?v=(0,i.createSVGTransform)(_,f):g=(0,i.createCSSTransform)(_,f);var O=(0,a.default)(r.props.className||"",s,(C(e={},l,this.state.dragging),C(e,c,this.state.dragged),e));return n.createElement(p.default,y({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:O,style:w(w({},r.props.style),g),transform:v}))}}])&&_(t.prototype,r),s&&_(t,s),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);e.default=k,C(k,"displayName","Draggable"),C(k,"propTypes",w(w({},p.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),C(k,"defaultProps",w(w({},p.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(wn)),wn}function Gn(){if(Hn)return vn.exports;Hn=1;var e=Fn(),t=e.default,n=e.DraggableCore;return vn.exports=t,vn.exports.default=t,vn.exports.DraggableCore=n,vn.exports}var Vn,Un={exports:{}},Yn={},$n={};function Xn(){if(Vn)return $n;Vn=1,$n.__esModule=!0,$n.cloneElement=function(e,n){n.style&&e.props.style&&(n.style=r(r({},e.props.style),n.style));n.className&&e.props.className&&(n.className=e.props.className+" "+n.className);return t.default.cloneElement(e,n)};var e,t=(e=s())&&e.__esModule?e:{default:e};function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}return $n}var Kn,Qn,Jn={};function Zn(){if(Kn)return Jn;Kn=1,Jn.__esModule=!0,Jn.resizableProps=void 0;var e,t=(e=c())&&e.__esModule?e:{default:e};Gn();var n={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:t.default.node,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o,a=n[0];return"both"===a.axis||"y"===a.axis?(o=t.default.number).isRequired.apply(o,n):t.default.number.apply(t.default,n)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o,a=n[0];return"both"===a.axis||"x"===a.axis?(o=t.default.number).isRequired.apply(o,n):t.default.number.apply(t.default,n)}};return Jn.resizableProps=n,Jn}function er(){if(Qn)return Yn;Qn=1,Yn.__esModule=!0,Yn.default=void 0;var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(s()),t=Gn(),n=Xn(),r=Zn(),o=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var p=function(r){var a,s;function l(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))||this).handleRefs={},e.lastHandleRect=null,e.slack=null,e}s=r,(a=l).prototype=Object.create(s.prototype),a.prototype.constructor=a,d(a,s);var u=l.prototype;return u.componentWillUnmount=function(){this.resetData()},u.resetData=function(){this.lastHandleRect=this.slack=null},u.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,o=n.maxConstraints,a=n.lockAspectRatio;if(!r&&!o&&!a)return[e,t];if(a){var s=this.props.width/this.props.height,i=e-this.props.width,l=t-this.props.height;Math.abs(i)>Math.abs(l*s)?t=e/s:e=t*s}var c=e,u=t,d=this.slack||[0,0],p=d[0],f=d[1];return e+=p,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[p+(c-e),f+(u-t)],[e,t]},u.resizeHandler=function(e,t){var n=this;return function(r,o){var a=o.node,s=o.deltaX,i=o.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=a.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===d)s+=p.left-n.lastHandleRect.left;if("n"===u)i+=p.top-n.lastHandleRect.top}n.lastHandleRect=p,"w"===d&&(s=-s),"n"===u&&(i=-i);var f=n.props.width+(l?s/n.props.transformScale:0),h=n.props.height+(c?i/n.props.transformScale:0),m=n.runConstraints(f,h);f=m[0],h=m[1];var g=f!==n.props.width||h!==n.props.height,y="function"==typeof n.props[e]?n.props[e]:null;y&&!("onResize"===e&&!g)&&(null==r.persist||r.persist(),y(r,{node:a,size:{width:f,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},u.renderResizeHandle=function(t,n){var r=this.props.handle;if(!r)return e.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:n});if("function"==typeof r)return r(t,n);var o=c({ref:n},"string"==typeof r.type?{}:{handleAxis:t});return e.cloneElement(r,o)},u.render=function(){var r=this,a=this.props,s=a.children,l=a.className,u=a.draggableOpts;a.width,a.height,a.handle,a.handleSize,a.lockAspectRatio,a.axis,a.minConstraints,a.maxConstraints,a.onResize,a.onResizeStop,a.onResizeStart;var d=a.resizeHandles;a.transformScale;var p=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(a,o);return(0,n.cloneElement)(s,c(c({},p),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(s.props.children,d.map((function(n){var o,a=null!=(o=r.handleRefs[n])?o:r.handleRefs[n]=e.createRef();return e.createElement(t.DraggableCore,i({},u,{nodeRef:a,key:"resizableHandle-"+n,onStop:r.resizeHandler("onResizeStop",n),onStart:r.resizeHandler("onResizeStart",n),onDrag:r.resizeHandler("onResize",n)}),r.renderResizeHandle(n,a))})))}))},l}(e.Component);return Yn.default=p,p.propTypes=r.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Yn}var tr,nr,rr={};function or(){if(tr)return rr;tr=1,rr.__esModule=!0,rr.default=void 0;var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(s()),t=a(c()),n=a(er()),r=Zn(),o=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var h=function(t){var r,a;function s(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={width:e.props.width,height:e.props.height,propsWidth:e.props.width,propsHeight:e.props.height},e.onResize=function(t,n){var r=n.size;e.props.onResize?(null==t.persist||t.persist(),e.setState(r,(function(){return e.props.onResize&&e.props.onResize(t,n)}))):e.setState(r)},e}return a=t,(r=s).prototype=Object.create(a.prototype),r.prototype.constructor=r,f(r,a),s.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},s.prototype.render=function(){var t=this.props,r=t.handle,a=t.handleSize;t.onResize;var s=t.onResizeStart,i=t.onResizeStop,c=t.draggableOpts,u=t.minConstraints,p=t.maxConstraints,f=t.lockAspectRatio,h=t.axis;t.width,t.height;var m=t.resizeHandles,g=t.style,y=t.transformScale,b=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,o);return e.createElement(n.default,{axis:h,draggableOpts:c,handle:r,handleSize:a,height:this.state.height,lockAspectRatio:f,maxConstraints:p,minConstraints:u,onResizeStart:s,onResize:this.onResize,onResizeStop:i,resizeHandles:m,transformScale:y,width:this.state.width},e.createElement("div",l({},b,{style:d(d({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},s}(e.Component);return rr.default=h,h.propTypes=d(d({},r.resizableProps),{},{children:t.default.element}),rr}var ar,sr,ir,lr={};function cr(){if(ar)return lr;ar=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.resizeHandleType=lr.resizeHandleAxesType=lr.default=void 0;var e=n(c()),t=n(s());function n(e){return e&&e.__esModule?e:{default:e}}const r=lr.resizeHandleAxesType=e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),o=lr.resizeHandleType=e.default.oneOfType([e.default.node,e.default.func]);return lr.default={className:e.default.string,style:e.default.object,width:e.default.number,autoSize:e.default.bool,cols:e.default.number,draggableCancel:e.default.string,draggableHandle:e.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:e.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&hn().validateLayout(t,"layout")},margin:e.default.arrayOf(e.default.number),containerPadding:e.default.arrayOf(e.default.number),rowHeight:e.default.number,maxRows:e.default.number,isBounded:e.default.bool,isDraggable:e.default.bool,isResizable:e.default.bool,allowOverlap:e.default.bool,preventCollision:e.default.bool,useCSSTransforms:e.default.bool,transformScale:e.default.number,isDroppable:e.default.bool,resizeHandles:r,resizeHandle:o,onLayoutChange:e.default.func,onDragStart:e.default.func,onDrag:e.default.func,onDragStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,onResizeStop:e.default.func,onDrop:e.default.func,droppingItem:e.default.shape({i:e.default.string.isRequired,w:e.default.number.isRequired,h:e.default.number.isRequired}),children:function(e,n){const r=e[n],o={};t.default.Children.forEach(r,(function(e){if(null!=(null==e?void 0:e.key)){if(o[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');o[e.key]=!0}}))},innerRef:e.default.any},lr}function ur(){if(sr)return bn;sr=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.default=void 0;var e=p(s()),t=l(),n=p(c()),r=Gn(),o=(nr||(nr=1,Un.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Un.exports.Resizable=er().default,Un.exports.ResizableBox=or().default),Un.exports),a=hn(),i=yn(),u=cr(),d=p(cn());function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=class extends e.default.Component{constructor(){super(...arguments),f(this,"state",{resizing:null,dragging:null,className:""}),f(this,"elementRef",e.default.createRef()),f(this,"onDragStart",((e,t)=>{let{node:n}=t;const{onDragStart:r,transformScale:o}=this.props;if(!r)return;const a={top:0,left:0},{offsetParent:s}=n;if(!s)return;const l=s.getBoundingClientRect(),c=n.getBoundingClientRect(),u=c.left/o,d=l.left/o,p=c.top/o,f=l.top/o;a.left=u-d+s.scrollLeft,a.top=p-f+s.scrollTop,this.setState({dragging:a});const{x:h,y:m}=(0,i.calcXY)(this.getPositionParams(),a.top,a.left,this.props.w,this.props.h);return r.call(this,this.props.i,h,m,{e:e,node:n,newPosition:a})})),f(this,"onDrag",((e,n,r)=>{let{node:o,deltaX:a,deltaY:s}=n;const{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let c=this.state.dragging.top+s,u=this.state.dragging.left+a;const{isBounded:d,i:p,w:f,h:h,containerWidth:m}=this.props,g=this.getPositionParams();if(d){const{offsetParent:e}=o;if(e){const{margin:t,rowHeight:n,containerPadding:r}=this.props,o=e.clientHeight-(0,i.calcGridItemWHPx)(h,n,t[1]);c=(0,i.clamp)(c-r[1],0,o);const a=(0,i.calcGridColWidth)(g),s=m-(0,i.calcGridItemWHPx)(f,a,t[0]);u=(0,i.clamp)(u-r[0],0,s)}}const y={top:c,left:u};r?this.setState({dragging:y}):(0,t.flushSync)((()=>{this.setState({dragging:y})}));const{x:b,y:v}=(0,i.calcXY)(g,c,u,f,h);return l.call(this,p,b,v,{e:e,node:o,newPosition:y})})),f(this,"onDragStop",((e,t)=>{let{node:n}=t;const{onDragStop:r}=this.props;if(!r)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:a,i:s}=this.props,{left:l,top:c}=this.state.dragging,u={top:c,left:l};this.setState({dragging:null});const{x:d,y:p}=(0,i.calcXY)(this.getPositionParams(),c,l,o,a);return r.call(this,s,d,p,{e:e,node:n,newPosition:u})})),f(this,"onResizeStop",((e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStop"))),f(this,"onResizeStart",((e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStart"))),f(this,"onResize",((e,t,n)=>this.onResizeHandler(e,t,n,"onResize")))}shouldComponentUpdate(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;const n=(0,i.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,i.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,a.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:t}=this.props;if(!t)return;const n=this.elementRef.current;if(!n)return;const r=e.droppingPosition||{left:0,top:0},{dragging:o}=this.state,a=o&&t.left!==r.left||t.top!==r.top;if(o){if(a){const e=t.left-o.left,r=t.top-o.top;this.onDrag(t.e,{node:n,deltaX:e,deltaY:r},!0)}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}getPositionParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:t,containerWidth:n,useCSSTransforms:r}=this.props;let o;return r?o=(0,a.setTransform)(e):(o=(0,a.setTopLeft)(e),t&&(o.left=(0,a.perc)(e.left/n),o.width=(0,a.perc)(e.width/n))),o}mixinDraggable(t,n){return e.default.createElement(r.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(e,t){return(n,r)=>t(n,r,e)}mixinResizable(t,n,r){const{cols:a,minW:s,minH:l,maxW:c,maxH:u,transformScale:d,resizeHandles:p,resizeHandle:f}=this.props,h=this.getPositionParams(),m=(0,i.calcGridItemPosition)(h,0,0,a,0).width,g=(0,i.calcGridItemPosition)(h,0,0,s,l),y=(0,i.calcGridItemPosition)(h,0,0,c,u),b=[g.width,g.height],v=[Math.min(y.width,m),Math.min(y.height,1/0)];return e.default.createElement(o.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:b,maxConstraints:v,onResizeStop:this.curryResizeHandler(n,this.onResizeStop),onResizeStart:this.curryResizeHandler(n,this.onResizeStart),onResize:this.curryResizeHandler(n,this.onResize),transformScale:d,resizeHandles:p,handle:f},t)}onResizeHandler(e,n,r,o){let{node:s,size:l,handle:c}=n;const u=this.props[o];if(!u)return;const{x:d,y:p,i:f,maxH:h,minH:m,containerWidth:g}=this.props,{minW:y,maxW:b}=this.props;let v=l;s&&(v=(0,a.resizeItemInDirection)(c,r,l,g),(0,t.flushSync)((()=>{this.setState({resizing:"onResizeStop"===o?null:v})})));let{w:w,h:x}=(0,i.calcWH)(this.getPositionParams(),v.width,v.height,d,p,c);w=(0,i.clamp)(w,Math.max(y,1),b),x=(0,i.clamp)(x,m,h),u.call(this,f,w,x,{e:e,node:s,size:v,handle:c})}render(){const{x:t,y:n,w:r,h:o,isDraggable:a,isResizable:s,droppingPosition:l,useCSSTransforms:c}=this.props,u=(0,i.calcGridItemPosition)(this.getPositionParams(),t,n,r,o,this.state),p=e.default.Children.only(this.props.children);let f=e.default.cloneElement(p,{ref:this.elementRef,className:(0,d.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:{...this.props.style,...p.props.style,...this.createStyle(u)}});return f=this.mixinResizable(f,u,s),f=this.mixinDraggable(f,a),f}};return bn.default=h,f(h,"propTypes",{children:n.default.element,cols:n.default.number.isRequired,containerWidth:n.default.number.isRequired,rowHeight:n.default.number.isRequired,margin:n.default.array.isRequired,maxRows:n.default.number.isRequired,containerPadding:n.default.array.isRequired,x:n.default.number.isRequired,y:n.default.number.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired,minW:function(e,t){const n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){const n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){const n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){const n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:n.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,isDraggable:n.default.bool.isRequired,isResizable:n.default.bool.isRequired,isBounded:n.default.bool.isRequired,static:n.default.bool,useCSSTransforms:n.default.bool.isRequired,transformScale:n.default.number,className:n.default.string,handle:n.default.string,cancel:n.default.string,droppingPosition:n.default.shape({e:n.default.object.isRequired,left:n.default.number.isRequired,top:n.default.number.isRequired})}),f(h,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),bn}function dr(){if(ir)return rn;ir=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.default=void 0;var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(s()),t=an(),n=l(cn()),r=hn(),o=yn(),a=l(ur()),i=l(cr());function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="react-grid-layout";let p=!1;try{p=/firefox/i.test(navigator.userAgent)}catch(h){}class f extends e.Component{constructor(){super(...arguments),u(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),u(this,"dragEnterCounter",0),u(this,"onDragStart",((e,t,n,o)=>{let{e:a,node:s}=o;const{layout:i}=this.state,l=(0,r.getLayoutItem)(i,e);if(!l)return;const c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(l),oldLayout:i,activeDrag:c}),this.props.onDragStart(i,l,l,null,a,s)})),u(this,"onDrag",((e,t,n,o)=>{let{e:a,node:s}=o;const{oldDragItem:i}=this.state;let{layout:l}=this.state;const{cols:c,allowOverlap:u,preventCollision:d}=this.props,p=(0,r.getLayoutItem)(l,e);if(!p)return;const f={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};l=(0,r.moveElement)(l,p,t,n,!0,d,(0,r.compactType)(this.props),c,u),this.props.onDrag(l,i,p,f,a,s),this.setState({layout:u?l:(0,r.compact)(l,(0,r.compactType)(this.props),c),activeDrag:f})})),u(this,"onDragStop",((e,t,n,o)=>{let{e:a,node:s}=o;if(!this.state.activeDrag)return;const{oldDragItem:i}=this.state;let{layout:l}=this.state;const{cols:c,preventCollision:u,allowOverlap:d}=this.props,p=(0,r.getLayoutItem)(l,e);if(!p)return;l=(0,r.moveElement)(l,p,t,n,!0,u,(0,r.compactType)(this.props),c,d);const f=d?l:(0,r.compact)(l,(0,r.compactType)(this.props),c);this.props.onDragStop(f,i,p,null,a,s);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:f,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,h)})),u(this,"onResizeStart",((e,t,n,o)=>{let{e:a,node:s}=o;const{layout:i}=this.state,l=(0,r.getLayoutItem)(i,e);l&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(i,l,l,null,a,s))})),u(this,"onResize",((e,t,n,o)=>{let{e:a,node:s,size:i,handle:l}=o;const{oldResizeItem:c}=this.state,{layout:u}=this.state,{cols:d,preventCollision:p,allowOverlap:f}=this.props;let h,m,g,y=!1;const[b,v]=(0,r.withLayoutItem)(u,e,(e=>{let o;if(m=e.x,g=e.y,-1!==["sw","w","nw","n","ne"].indexOf(l)&&(-1!==["sw","nw","w"].indexOf(l)&&(m=e.x+(e.w-t),t=e.x!==m&&m<0?e.w:t,m=m<0?0:m),-1!==["ne","n","nw"].indexOf(l)&&(g=e.y+(e.h-n),n=e.y!==g&&g<0?e.h:n,g=g<0?0:g),y=!0),p&&!f){o=(0,r.getAllCollisions)(u,{...e,w:t,h:n,x:m,y:g}).filter((t=>t.i!==e.i)).length>0,o&&(g=e.y,n=e.h,m=e.x,t=e.w,y=!1)}return e.w=t,e.h=n,e}));if(!v)return;if(h=b,y){const e=!0;h=(0,r.moveElement)(b,v,m,g,e,this.props.preventCollision,(0,r.compactType)(this.props),d,f)}const w={w:v.w,h:v.h,x:v.x,y:v.y,static:!0,i:e};this.props.onResize(h,c,v,w,a,s),this.setState({layout:f?h:(0,r.compact)(h,(0,r.compactType)(this.props),d),activeDrag:w})})),u(this,"onResizeStop",((e,t,n,o)=>{let{e:a,node:s}=o;const{layout:i,oldResizeItem:l}=this.state,{cols:c,allowOverlap:u}=this.props,d=(0,r.getLayoutItem)(i,e),p=u?i:(0,r.compact)(i,(0,r.compactType)(this.props),c);this.props.onResizeStop(p,l,d,null,a,s);const{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,f)})),u(this,"onDragOver",(t=>{var n;if(t.preventDefault(),t.stopPropagation(),p&&!(null==(n=t.nativeEvent.target)?void 0:n.classList.contains(d)))return!1;const{droppingItem:r,onDropDragOver:a,margin:s,cols:i,rowHeight:l,maxRows:c,width:u,containerPadding:f,transformScale:h}=this.props,m=null==a?void 0:a(t);if(!1===m)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const g={...r,...m},{layout:y}=this.state,b=t.currentTarget.getBoundingClientRect(),v=t.clientX-b.left,w=t.clientY-b.top,x={left:v/h,top:w/h,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:e,top:t}=this.state.droppingPosition;(e!=v||t!=w)&&this.setState({droppingPosition:x})}}else{const t={cols:i,margin:s,maxRows:c,rowHeight:l,containerWidth:u,containerPadding:f||s},n=(0,o.calcXY)(t,w,v,g.w,g.h);this.setState({droppingDOMNode:e.createElement("div",{key:g.i}),droppingPosition:x,layout:[...y,{...g,x:n.x,y:n.y,static:!1,isDraggable:!0}]})}})),u(this,"removeDroppingPlaceholder",(()=>{const{droppingItem:e,cols:t}=this.props,{layout:n}=this.state,o=(0,r.compact)(n.filter((t=>t.i!==e.i)),(0,r.compactType)(this.props),t,this.props.allowOverlap);this.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),u(this,"onDragLeave",(e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()})),u(this,"onDragEnter",(e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++})),u(this,"onDrop",(e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:t}=this.props,{layout:n}=this.state,r=n.find((e=>e.i===t.i));this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,r,e)}))}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,n){let o;if(n.activeDrag)return null;if((0,t.deepEqual)(e.layout,n.propsLayout)&&e.compactType===n.compactType?(0,r.childrenEqual)(e.children,n.children)||(o=n.layout):o=e.layout,o){return{layout:(0,r.synchronizeLayoutWithChildren)(o,e.children,e.cols,(0,r.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}}return null}shouldComponentUpdate(e,n){return this.props.children!==e.children||!(0,r.fastRGLPropsEqual)(this.props,e,t.deepEqual)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}componentDidUpdate(e,t){if(!this.state.activeDrag){const e=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(e,n)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,r.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}onLayoutMaybeChanged(e,n){n||(n=this.state.layout),(0,t.deepEqual)(n,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:n,cols:r,margin:o,containerPadding:s,rowHeight:i,maxRows:l,useCSSTransforms:c,transformScale:u}=this.props;return e.createElement(a.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:n,cols:r,margin:o,containerPadding:s||o,maxRows:l,rowHeight:i,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:u},e.createElement("div",null))}processGridItem(t,n){if(!t||!t.key)return;const o=(0,r.getLayoutItem)(this.state.layout,String(t.key));if(!o)return null;const{width:s,cols:i,margin:l,containerPadding:c,rowHeight:u,maxRows:d,isDraggable:p,isResizable:f,isBounded:h,useCSSTransforms:m,transformScale:g,draggableCancel:y,draggableHandle:b,resizeHandles:v,resizeHandle:w}=this.props,{mounted:x,droppingPosition:S}=this.state,_="boolean"==typeof o.isDraggable?o.isDraggable:!o.static&&p,O="boolean"==typeof o.isResizable?o.isResizable:!o.static&&f,j=o.resizeHandles||v,E=_&&h&&!1!==o.isBounded;return e.createElement(a.default,{containerWidth:s,cols:i,margin:l,containerPadding:c||l,maxRows:d,rowHeight:u,cancel:y,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:_,isResizable:O,isBounded:E,useCSSTransforms:m&&x,usePercentages:!x,transformScale:g,w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,minH:o.minH,minW:o.minW,maxH:o.maxH,maxW:o.maxW,static:o.static,droppingPosition:n?S:void 0,resizeHandles:j,resizeHandle:w},t)}render(){const{className:t,style:o,isDroppable:a,innerRef:s}=this.props,i=(0,n.default)(d,t),l={height:this.containerHeight(),...o};return e.createElement("div",{ref:s,className:i,style:l,onDrop:a?this.onDrop:r.noop,onDragLeave:a?this.onDragLeave:r.noop,onDragEnter:a?this.onDragEnter:r.noop,onDragOver:a?this.onDragOver:r.noop},e.Children.map(this.props.children,(e=>this.processGridItem(e))),a&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}return rn.default=f,u(f,"displayName","ReactGridLayout"),u(f,"propTypes",i.default),u(f,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),rn}var pr,fr,hr={},mr={};function gr(){if(pr)return mr;pr=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.findOrGenerateResponsiveLayout=function(n,r,o,a,s,i){if(n[o])return(0,e.cloneLayout)(n[o]);let l=n[a];const c=t(r),u=c.slice(c.indexOf(o));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(n[t]){l=n[t];break}}return l=(0,e.cloneLayout)(l||[]),(0,e.compact)((0,e.correctBounds)(l,{cols:s}),i,s)},mr.getBreakpointFromWidth=function(e,n){const r=t(e);let o=r[0];for(let t=1,a=r.length;t<a;t++){const a=r[t];n>e[a]&&(o=a)}return o},mr.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},mr.sortBreakpoints=t;var e=hn();function t(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}return mr}function yr(){if(fr)return hr;fr=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(s()),t=i(c()),n=an(),r=hn(),o=gr(),a=i(dr());function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=e=>Object.prototype.toString.call(e);function f(e,t){return null==e?null:Array.isArray(e)?e:e[t]}let h=class extends e.Component{constructor(){super(...arguments),d(this,"state",this.generateInitialState()),d(this,"onLayoutChange",(e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})}))}generateInitialState(){const{width:e,breakpoints:t,layouts:n,cols:r}=this.props,a=(0,o.getBreakpointFromWidth)(t,e),s=(0,o.getColsFromBreakpoint)(a,r),i=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,o.findOrGenerateResponsiveLayout)(n,t,a,a,s,i),breakpoint:a,cols:s}}static getDerivedStateFromProps(e,t){if(!(0,n.deepEqual)(e.layouts,t.layouts)){const{breakpoint:n,cols:r}=t;return{layout:(0,o.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,n.deepEqual)(this.props.breakpoints,e.breakpoints)&&(0,n.deepEqual)(this.props.cols,e.cols)||this.onWidthChange(e)}onWidthChange(e){const{breakpoints:t,cols:n,layouts:a,compactType:s}=this.props,i=this.props.breakpoint||(0,o.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,c=(0,o.getColsFromBreakpoint)(i,n),u={...a};if(l!==i||e.breakpoints!==t||e.cols!==n){l in u||(u[l]=(0,r.cloneLayout)(this.state.layout));let e=(0,o.findOrGenerateResponsiveLayout)(u,t,i,l,c,s);e=(0,r.synchronizeLayoutWithChildren)(e,this.props.children,c,s,this.props.allowOverlap),u[i]=e,this.props.onBreakpointChange(i,c),this.props.onLayoutChange(e,u),this.setState({breakpoint:i,layout:e,cols:c})}const d=f(this.props.margin,i),p=f(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,d,c,p)}render(){const{breakpoint:t,breakpoints:n,cols:r,layouts:o,margin:s,containerPadding:i,onBreakpointChange:l,onLayoutChange:c,onWidthChange:d,...p}=this.props;return e.createElement(a.default,u({},p,{margin:f(s,this.state.breakpoint),containerPadding:f(i,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return hr.default=h,d(h,"propTypes",{breakpoint:t.default.string,breakpoints:t.default.object,allowOverlap:t.default.bool,cols:t.default.object,margin:t.default.oneOfType([t.default.array,t.default.object]),containerPadding:t.default.oneOfType([t.default.array,t.default.object]),layouts(e,t){if("[object Object]"!==p(e[t]))throw new Error("Layout property must be an object. Received: "+p(e[t]));Object.keys(e[t]).forEach((t=>{if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(e.layouts[t],"layouts."+t)}))},width:t.default.number.isRequired,onBreakpointChange:t.default.func,onLayoutChange:t.default.func,onWidthChange:t.default.func}),d(h,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),hr}var br={},vr=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),wr="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,xr="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Sr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(xr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var _r=["top","right","bottom","left","width","height","size","weight"],Or="undefined"!=typeof MutationObserver,jr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&i()}function s(){Sr(a)}function i(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return i}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){wr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Or?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){wr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;_r.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Er=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Dr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||xr},Cr=zr(0,0,0,0);function kr(e){return parseFloat(e)||0}function Nr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+kr(e["border-"+n+"-width"])}),0)}function Rr(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Cr;var r=Dr(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=kr(a)}return t}(r),a=o.left+o.right,s=o.top+o.bottom,i=kr(r.width),l=kr(r.height);if("border-box"===r.boxSizing&&(Math.round(i+a)!==t&&(i-=Nr(r,"left","right")+a),Math.round(l+s)!==n&&(l-=Nr(r,"top","bottom")+s)),!function(e){return e===Dr(e).document.documentElement}(e)){var c=Math.round(i+a)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(i-=c),1!==Math.abs(u)&&(l-=u)}return zr(o.left,o.top,i,l)}var Pr="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Dr(e).SVGGraphicsElement}:function(e){return e instanceof Dr(e).SVGElement&&"function"==typeof e.getBBox};function Mr(e){return wr?Pr(e)?function(e){var t=e.getBBox();return zr(0,0,t.width,t.height)}(e):Rr(e):Cr}function zr(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Tr=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=zr(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Mr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Lr=function(){return function(e,t){var n,r,o,a,s,i,l,c=(r=(n=t).x,o=n.y,a=n.width,s=n.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(i.prototype),Er(l,{x:r,y:o,width:a,height:s,top:o,right:r+a,bottom:s+o,left:r}),l);Er(this,{target:e,contentRect:c})}}(),Ir=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new vr,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Dr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Tr(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Dr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Lr(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Hr="undefined"!=typeof WeakMap?new WeakMap:new vr,Wr=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=jr.getInstance(),r=new Ir(t,n,this);Hr.set(this,r)}}();["observe","unobserve","disconnect"].forEach((function(e){Wr.prototype[e]=function(){var t;return(t=Hr.get(this))[e].apply(t,arguments)}}));var Ar=void 0!==xr.ResizeObserver?xr.ResizeObserver:Wr;const qr=i(Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})));var Br,Fr;function Gr(){if(Br)return br;Br=1,Object.defineProperty(br,"__esModule",{value:!0}),br.default=function(o){var a;return a=class extends e.Component{constructor(){super(...arguments),l(this,"state",{width:1280}),l(this,"elementRef",e.createRef()),l(this,"mounted",!1),l(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new n.default((e=>{if(this.elementRef.current instanceof HTMLElement){const t=e[0].contentRect.width;this.setState({width:t})}}));const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.observe(e)}componentWillUnmount(){this.mounted=!1;const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:t,...n}=this.props;return t&&!this.mounted?e.createElement("div",{className:(0,r.default)(this.props.className,u),style:this.props.style,ref:this.elementRef}):e.createElement(o,i({innerRef:this.elementRef},n,this.state))}},l(a,"defaultProps",{measureBeforeMount:!1}),l(a,"propTypes",{measureBeforeMount:t.default.bool}),a};var e=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(s()),t=o(c()),n=o(qr),r=o(cn());function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="react-grid-layout";return br}var Vr,Ur=(Fr||(Fr=1,(Vr=nn).exports=dr().default,Vr.exports.utils=hn(),Vr.exports.calculateUtils=yn(),Vr.exports.Responsive=yr().default,Vr.exports.Responsive.utils=gr(),Vr.exports.WidthProvider=Gr().default),nn.exports);const Yr=[u(),d({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],$r=p.memo((e=>{const t=f.c(8),{code:n,className:r}=e,{theme:o}=h();let a;t[0]!==r?(a=m(r,"text-muted-foreground flex flex-col overflow-hidden"),t[0]=r,t[1]=a):a=t[1];const s="dark"===o?"dark":"light";let i,l;return t[2]!==n||t[3]!==s?(i=g.jsx(y,{minHeight:"10px",theme:s,height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:Yr,value:n}),t[2]=n,t[3]=s,t[4]=i):i=t[4],t[5]!==a||t[6]!==i?(l=g.jsx("div",{className:a,children:i}),t[5]=a,t[6]=i,t[7]=l):l=t[7],l}));$r.displayName="TinyCode";const Xr=Ur.WidthProvider(Ur.Responsive),Kr=[0,0],Qr="grid-drag-handle",Jr=p.memo((e=>{const t=f.c(20),{output:n,cellId:r,status:o,mode:a,code:s,hidden:i,isScrollable:l,side:c,className:u}=e;let d;t[0]!==o?(d=w(o),t[0]=o,t[1]=d):d=t[1];const p=d;if((null==n||""===n.data)&&"read"!==a){let e;return t[2]!==u||t[3]!==s?(e=g.jsx($r,{className:u,code:s}),t[2]=u,t[3]=s,t[4]=e):e=t[4],e}const h=i&&"invisible",y=l?"overflow-y-auto":"overflow-y-hidden",b="top"===c&&"flex items-start",v="bottom"===c&&"flex items-end",S="left"===c&&"flex justify-start",_="right"===c&&"flex justify-end";let O,j,E;return t[5]!==u||t[6]!==h||t[7]!==y||t[8]!==b||t[9]!==v||t[10]!==S||t[11]!==_?(O=m(u,"h-full w-full p-2 overflow-x-auto",h,y,b,v,S,_),t[5]=u,t[6]=h,t[7]=y,t[8]=b,t[9]=v,t[10]=S,t[11]=_,t[12]=O):O=t[12],t[13]!==r||t[14]!==p||t[15]!==n?(j=g.jsx(x,{allowExpand:!1,output:n,cellId:r,stale:p,loading:p}),t[13]=r,t[14]=p,t[15]=n,t[16]=j):j=t[16],t[17]!==O||t[18]!==j?(E=g.jsx("div",{className:O,children:j}),t[17]=O,t[18]=j,t[19]=E):E=t[19],E}));Jr.displayName="GridCell";const Zr=e=>{const t=f.c(38),{layout:n,setLayout:r,isLocked:o,setIsLocked:a}=e;let s,i,l,c,u,d,p,h,m,y,b,v,w,x,O;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=g.jsx(k,{htmlFor:"columns",children:"Columns"}),t[0]=s):s=t[0],t[1]!==n||t[2]!==r?(i=e=>{r({...n,columns:e})},t[1]=n,t[2]=r,t[3]=i):i=t[3],t[4]!==n.columns||t[5]!==i?(l=g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[s,g.jsx(S,{"data-testid":"grid-columns-input",id:"columns",value:n.columns,className:"w-[60px]",placeholder:"# of Columns",minValue:1,onChange:i})]}),t[4]=n.columns,t[5]=i,t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx(k,{htmlFor:"rowHeight",children:"Row Height (px)"}),t[7]=c):c=t[7],t[8]!==n||t[9]!==r?(u=e=>{r({...n,rowHeight:e})},t[8]=n,t[9]=r,t[10]=u):u=t[10],t[11]!==n.rowHeight||t[12]!==u?(d=g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c,g.jsx(S,{"data-testid":"grid-row-height-input",id:"rowHeight",value:n.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",minValue:1,onChange:u})]}),t[11]=n.rowHeight,t[12]=u,t[13]=d):d=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(p=g.jsx(k,{htmlFor:"maxWidth",children:"Max Width (px)"}),t[14]=p):p=t[14],t[15]!==n||t[16]!==r?(h=e=>{r({...n,maxWidth:Number.isNaN(e)?void 0:e})},t[15]=n,t[16]=r,t[17]=h):h=t[17],t[18]!==n.maxWidth||t[19]!==h?(m=g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p,g.jsx(S,{"data-testid":"grid-max-width-input",id:"maxWidth",value:n.maxWidth,className:"w-[90px]",step:100,placeholder:"Full",onChange:h})]}),t[18]=n.maxWidth,t[19]=h,t[20]=m):m=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(y=g.jsxs(k,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[g.jsx(N,{className:"h-3 w-3"}),"Bordered"]}),t[21]=y):y=t[21],t[22]!==n||t[23]!==r?(b=e=>{r({...n,bordered:e})},t[22]=n,t[23]=r,t[24]=b):b=t[24],t[25]!==n.bordered||t[26]!==b?(v=g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[y,g.jsx(_,{"data-testid":"grid-bordered-switch",id:"lock",checked:n.bordered,size:"sm",onCheckedChange:b})]}),t[25]=n.bordered,t[26]=b,t[27]=v):v=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(w=g.jsxs(k,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[g.jsx(R,{className:"h-3 w-3"}),"Lock Grid"]}),t[28]=w):w=t[28],t[29]!==o||t[30]!==a?(x=g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[w,g.jsx(_,{"data-testid":"grid-lock-switch",id:"lock",checked:o,size:"sm",onCheckedChange:a})]}),t[29]=o,t[30]=a,t[31]=x):x=t[31],t[32]!==v||t[33]!==x||t[34]!==l||t[35]!==d||t[36]!==m?(O=g.jsxs("div",{className:"flex flex-row absolute pl-5 top-8 gap-4 w-full justify-end pr-[350px] pb-3 border-b z-50",children:[l,d,m,v,x]}),t[32]=v,t[33]=x,t[34]=l,t[35]=d,t[36]=m,t[37]=O):O=t[37],O},eo=b.forwardRef(((e,t)=>{const n=f.c(30);let r,o,a,s,i,l,c,u,d,h;n[0]!==e?(({children:r,isDragging:s,className:o,onDelete:l,isScrollable:i,setIsScrollable:u,side:h,setSide:d,display:a,...c}=e),n[0]=e,n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=i,n[6]=l,n[7]=c,n[8]=u,n[9]=d,n[10]=h):(r=n[1],o=n[2],a=n[3],s=n[4],i=n[5],l=n[6],c=n[7],u=n[8],d=n[9],h=n[10]);const[y,b]=p.useState(),v=y&&"border-[var(--sky-8)] z-20",w=!y&&"hover-actions-parent",x=s&&"bg-[var(--slate-2)] border-border z-20";let S,_,O;return n[11]!==o||n[12]!==v||n[13]!==w||n[14]!==x?(S=m(o,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",v,w,x),n[11]=o,n[12]=v,n[13]=w,n[14]=x,n[15]=S):S=n[15],n[16]!==a||n[17]!==i||n[18]!==l||n[19]!==y||n[20]!==u||n[21]!==d||n[22]!==h?(_=g.jsx(to,{onDelete:l,isScrollable:i,setIsScrollable:u,side:h,setSide:d,display:a,setPopoverOpened:b,popoverOpened:y}),n[16]=a,n[17]=i,n[18]=l,n[19]=y,n[20]=u,n[21]=d,n[22]=h,n[23]=_):_=n[23],n[24]!==r||n[25]!==t||n[26]!==c||n[27]!==S||n[28]!==_?(O=g.jsxs("div",{ref:t,...c,className:S,children:[r,_]}),n[24]=r,n[25]=t,n[26]=c,n[27]=S,n[28]=_,n[29]=O):O=n[29],O}));eo.displayName="EditableGridCell";const to=e=>{const t=f.c(43),{display:n,onDelete:r,side:o,setSide:a,isScrollable:s,setIsScrollable:i,popoverOpened:l,setPopoverOpened:c}=e,u="left"===o?qt:"right"===o?Wt:void 0,d=!l&&"hover-action",p="top"===n&&"-top-6 rounded-t",h="bottom"===n&&"-bottom-6 rounded-b";let y;t[0]!==d||t[1]!==p||t[2]!==h?(y=m("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",d,p,h),t[0]=d,t[1]=p,t[2]=h,t[3]=y):y=t[3];const b="side"===l;let v,w,x,S,k;t[4]!==c?(v=e=>c(e?"side":void 0),t[4]=c,t[5]=v):v=t[5],t[6]!==u?(w=g.jsx(P,{asChild:!0,children:u?g.jsx(u,{className:"h-4 w-4 opacity-60 hover:opacity-100"}):g.jsx(At,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),t[6]=u,t[7]=w):w=t[7],t[8]!==a||t[9]!==o?(x=O.entries(no).map((e=>{const[t,n]=e;return g.jsxs(j,{onSelect:()=>a(t),children:[g.jsx(n,{className:"h-4 w-3 mr-2"}),g.jsx("span",{className:"flex-1",children:E(t)}),t===o&&g.jsx(D,{className:"h-4 w-4"})]},t)})),t[8]=a,t[9]=o,t[10]=x):x=t[10],t[11]!==x?(S=g.jsx(M,{side:"bottom",children:x}),t[11]=x,t[12]=S):S=t[12],t[13]!==b||t[14]!==v||t[15]!==w||t[16]!==S?(k=g.jsxs(z,{open:b,onOpenChange:v,children:[w,S]}),t[13]=b,t[14]=v,t[15]=w,t[16]=S,t[17]=k):k=t[17];const N="scroll"===l;let R,L,I,H,W,A,q,B,F,G;return t[18]!==c?(R=e=>c(e?"scroll":void 0),t[18]=c,t[19]=R):R=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(L=g.jsx(P,{asChild:!0,children:g.jsx(Xt,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),t[20]=L):L=t[20],t[21]!==s||t[22]!==i?(I=()=>i(!s),t[21]=s,t[22]=i,t[23]=I):I=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(H=g.jsx("span",{className:"flex-1",children:"Scrollable"}),t[24]=H):H=t[24],t[25]!==s||t[26]!==i?(W=g.jsx(_,{"data-testid":"grid-scrollable-switch",checked:s,size:"sm",onCheckedChange:i}),t[25]=s,t[26]=i,t[27]=W):W=t[27],t[28]!==I||t[29]!==W?(A=g.jsx(M,{side:"bottom",children:g.jsxs(j,{onSelect:I,children:[H,W]})}),t[28]=I,t[29]=W,t[30]=A):A=t[30],t[31]!==N||t[32]!==R||t[33]!==A?(q=g.jsxs(z,{open:N,onOpenChange:R,children:[L,A]}),t[31]=N,t[32]=R,t[33]=A,t[34]=q):q=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(B=g.jsx(C,{className:m(Qr,"cursor-move","h-4 w-4 opacity-60 hover:opacity-100")}),t[35]=B):B=t[35],t[36]!==r?(F=g.jsx(T,{className:"h-4 w-4 opacity-60 hover:opacity-100",onClick:()=>r()}),t[36]=r,t[37]=F):F=t[37],t[38]!==k||t[39]!==q||t[40]!==F||t[41]!==y?(G=g.jsxs("div",{className:y,children:[k,q,B,F]}),t[38]=k,t[39]=q,t[40]=F,t[41]=y,t[42]=G):G=t[42],G},no={left:qt,right:Wt};function ro(e){return e.i}function oo(e){return e.i}function ao(){window.dispatchEvent(new Event("resize"))}const so={type:"grid",name:"Grid",validator:L.object({columns:L.number().min(1),rowHeight:L.number().min(1),maxWidth:L.number().optional(),bordered:L.boolean().optional(),cells:L.array(L.object({position:L.tuple([L.number(),L.number(),L.number(),L.number()]).nullable(),scrollable:L.boolean().optional(),alignment:L.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(e,t)=>{if(0===e.cells.length)return{columns:e.columns,rowHeight:e.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};e.cells.length!==t.length&&o.warn("Number of cells in layout does not match number of cells in notebook");const n=new Set,r=new Map,a=e.cells.flatMap(((e,o)=>{const a=e.position;if(!a)return[];const s=t[o];return s?(e.scrollable&&n.add(s.id),e.side&&r.set(s.id,e.side),{i:s.id,x:a[0],y:a[1],w:a[2],h:a[3]}):[]}));return{columns:e.columns,rowHeight:e.rowHeight,maxWidth:e.maxWidth,bordered:e.bordered,cells:a,cellSide:r,scrollableCells:n}},serializeLayout:(e,t)=>{const n=v.keyBy(e.cells,(e=>e.i)),r=t.map((t=>{const r=n.get(t.id);if(!r)return{position:null};const o={position:[r.x,r.y,r.w,r.h]};return e.scrollableCells.has(t.id)&&(o.scrollable=!0),e.cellSide.has(t.id)&&(o.side=e.cellSide.get(t.id)),o}));return{columns:e.columns,rowHeight:e.rowHeight,maxWidth:e.maxWidth,bordered:e.bordered,cells:r}},Component:e=>{const t=f.c(156),{layout:n,setLayout:r,cells:o,mode:a}=e,s="read"===a;let i;t[0]!==n.cells?(i=new Set(n.cells.map(ro)),t[0]=n.cells,t[1]=i):i=t[1];const l=i,[c,u]=p.useState(null),[d,h]=p.useState(!1);let y,w;t[2]!==n.columns?(w={lg:n.columns},t[2]=n.columns,t[3]=w):w=t[3],y=w;const x=y;let S,_;t[4]!==n.bordered?(S=()=>{const e=document.getElementById("App");return n.bordered?null==e||e.classList.add("grid-bordered"):null==e||e.classList.remove("grid-bordered"),()=>{null==e||e.classList.remove("grid-bordered")}},_=[n.bordered],t[4]=n.bordered,t[5]=S,t[6]=_):(S=t[5],_=t[6]),p.useEffect(S,_);const O=function(){const e=f.c(9),[t,n]=p.useState(!1);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={x:0,y:0},e[0]=r):r=e[0];const[o,a]=b.useState(r),[s,i]=b.useState(!1);let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{n(!0),a({x:e.clientX,y:e.clientY})},e[1]=l):l=e[1];const c=l;let u;e[2]!==o||e[3]!==t?(u=e=>{if(t){const t=e.clientX-o.x,n=e.clientY-o.y;i(Math.hypot(t,n)>10)}},e[2]=o,e[3]=t,e[4]=u):u=e[4];const d=u;let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{n(!1),i(!1)},e[5]=h):h=e[5];const m=h,g=t&&s;let y;return e[6]!==d||e[7]!==g?(y={isDragging:g,onDragStart:c,onDragMove:d,onDragStop:m},e[6]=d,e[7]=g,e[8]=y):y=e[8],y}();let j,E;t[7]!==O?(({isDragging:E,...j}=O),t[7]=O,t[8]=j,t[9]=E):(j=t[8],E=t[9]);const D=!s&&!d;let C,k,N,R,P,M,z,T,L,I,H,W,A,q,B,F,G,V,U,Y,$,X,K,Q,J,Z,ee;if(t[10]!==o||t[11]!==x||t[12]!==j||t[13]!==c||t[14]!==D||t[15]!==l||t[16]!==E||t[17]!==s||t[18]!==n||t[19]!==a||t[20]!==r){const e=v.keyBy(n.cells,oo);let i;t[47]!==n||t[48]!==r?(i=e=>t=>{const o=new Set(n.scrollableCells);t?o.add(e):o.delete(e),r({...n,scrollableCells:o})},t[47]=n,t[48]=r,t[49]=i):i=t[49];const u=i;let d;t[50]!==n||t[51]!==r?(d=e=>t=>{const o=new Map(n.cellSide);t===o.get(e)?o.delete(e):o.set(e,t),r({...n,cellSide:o})},t[50]=n,t[51]=r,t[52]=d):d=t[52];const p=d;t[53]!==D||t[54]!==n.columns||t[55]!==n.maxWidth||t[56]!==n.rowHeight?(k={},n.maxWidth&&(k.maxWidth=`${n.maxWidth}px`),D&&(k.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",k.backgroundSize=`calc((100% / ${n.columns})) ${n.rowHeight}px`),t[53]=D,t[54]=n.columns,t[55]=n.maxWidth,t[56]=n.rowHeight,t[57]=k):k=t[57],C=Xr,Q="lg",t[58]!==n.cells?(J={lg:n.cells},t[58]=n.cells,t[59]=J):J=t[59],Z=k,N=x,R=!1;const f=D&&"bg-[var(--slate-2)] border-r",h=s&&"disable-animation",y=!n.maxWidth&&"min-w-[800px]";let b;t[60]!==f||t[61]!==h||t[62]!==y?(P=m("w-full mx-auto bg-background flex-1 min-h-full",f,h,y),t[60]=f,t[61]=h,t[62]=y,t[63]=P):P=t[63],t[64]!==s?(M=s?[20,20]:void 0,t[64]=s,t[65]=M):M=t[65],z=Kr,T=!1,L=null,I=!0,H=n.rowHeight,t[66]!==n||t[67]!==r?(W=e=>r({...n,cells:e}),t[66]=n,t[67]=r,t[68]=W):W=t[68],t[69]!==c?(A=c?{i:c.i,w:c.w||2,h:c.h||2}:void 0,t[69]=c,t[70]=A):A=t[70],t[71]!==j||t[72]!==n||t[73]!==r?(q=(e,t,o)=>{j.onDragStop(),t&&r({...n,cells:[...e,t]})},t[71]=j,t[72]=n,t[73]=r,t[74]=q):q=t[74],t[75]!==j?(B=(e,t,n,r,o)=>{j.onDragStart(o)},F=(e,t,n,r,o)=>{j.onDragMove(o)},G=()=>{j.onDragStop()},t[75]=j,t[76]=B,t[77]=F,t[78]=G):(B=t[76],F=t[77],G=t[78]),V=ao,U=D,Y=D,$=D,X=D?`.${Qr}`:"noop",t[79]!==l?(b=e=>l.has(e.id),t[79]=l,t[80]=b):b=t[80],K=o.filter(b).map((t=>{const o=e.get(t.id),s=n.scrollableCells.has(t.id)??!1,i=n.cellSide.get(t.id),l=g.jsx(Jr,{code:t.code,mode:a,cellId:t.id,output:t.output,status:t.status,isScrollable:s,side:i,hidden:t.errored||t.interrupted||t.stopped});return D?g.jsx(eo,{id:t.id,isDragging:E,side:i,setSide:p(t.id),isScrollable:s,setIsScrollable:u(t.id),display:0===(null==o?void 0:o.y)?"bottom":"top",onDelete:()=>{r({...n,cells:n.cells.filter((e=>e.i!==t.id))})},children:l},t.id):g.jsx("div",{children:l},t.id)})),t[10]=o,t[11]=x,t[12]=j,t[13]=c,t[14]=D,t[15]=l,t[16]=E,t[17]=s,t[18]=n,t[19]=a,t[20]=r,t[21]=C,t[22]=k,t[23]=N,t[24]=R,t[25]=P,t[26]=M,t[27]=z,t[28]=T,t[29]=L,t[30]=I,t[31]=H,t[32]=W,t[33]=A,t[34]=q,t[35]=B,t[36]=F,t[37]=G,t[38]=V,t[39]=U,t[40]=Y,t[41]=$,t[42]=X,t[43]=K,t[44]=Q,t[45]=J,t[46]=Z}else C=t[21],k=t[22],N=t[23],R=t[24],P=t[25],M=t[26],z=t[27],T=t[28],L=t[29],I=t[30],H=t[31],W=t[32],A=t[33],q=t[34],B=t[35],F=t[36],G=t[37],V=t[38],U=t[39],Y=t[40],$=t[41],X=t[42],K=t[43],Q=t[44],J=t[45],Z=t[46];t[81]!==C||t[82]!==N||t[83]!==R||t[84]!==P||t[85]!==M||t[86]!==z||t[87]!==T||t[88]!==L||t[89]!==I||t[90]!==H||t[91]!==W||t[92]!==A||t[93]!==q||t[94]!==B||t[95]!==F||t[96]!==G||t[97]!==V||t[98]!==U||t[99]!==Y||t[100]!==$||t[101]!==X||t[102]!==K||t[103]!==Q||t[104]!==J||t[105]!==Z?(ee=g.jsx(C,{breakpoint:Q,layouts:J,style:Z,cols:N,allowOverlap:R,className:P,containerPadding:M,margin:z,isBounded:T,compactType:L,preventCollision:I,rowHeight:H,onLayoutChange:W,droppingItem:A,onDrop:q,onDragStart:B,onDrag:F,onDragStop:G,onResizeStop:V,isDraggable:U,isDroppable:Y,isResizable:$,draggableHandle:X,children:K}),t[81]=C,t[82]=N,t[83]=R,t[84]=P,t[85]=M,t[86]=z,t[87]=T,t[88]=L,t[89]=I,t[90]=H,t[91]=W,t[92]=A,t[93]=q,t[94]=B,t[95]=F,t[96]=G,t[97]=V,t[98]=U,t[99]=Y,t[100]=$,t[101]=X,t[102]=K,t[103]=Q,t[104]=J,t[105]=Z,t[106]=ee):ee=t[106];let te,ne,re,oe,ae,se,ie,le,ce,ue=ee;if(s){if(n.bordered){let e;t[107]!==ue||t[108]!==k?(e=g.jsx("div",{className:"flex flex-1 flex-col items-center",children:g.jsx("div",{style:k,className:"bg-background flex-1 border-t border-x rounded-t shadow-sm w-full overflow-hidden",children:ue})}),t[107]=ue,t[108]=k,t[109]=e):e=t[109],ue=e}return ue}if(t[110]!==o||t[111]!==ue||t[112]!==l||t[113]!==d||t[114]!==n||t[115]!==a||t[116]!==r||t[117]!==k){let e;t[125]!==l?(e=e=>!l.has(e.id),t[125]=l,t[126]=e):e=t[126];const s=o.filter(e);if(n.bordered){let e,n;t[127]!==ue?(e=g.jsx("div",{className:"h-full overflow-auto",children:ue}),t[127]=ue,t[128]=e):e=t[128],t[129]!==k||t[130]!==e?(n=g.jsx("div",{style:k,className:"bg-background border-t border-x rounded-t shadow-sm w-full mx-auto mt-4 h-[calc(100%-1rem)] overflow-hidden",children:e}),t[129]=k,t[130]=e,t[131]=n):n=t[131],ue=n}let i,c;t[132]!==d||t[133]!==n||t[134]!==r?(se=g.jsx(Zr,{layout:n,setLayout:r,isLocked:d,setIsLocked:h}),t[132]=d,t[133]=n,t[134]=r,t[135]=se):se=t[135],t[136]===Symbol.for("react.memo_cache_sentinel")?(oe=m("relative flex z-10 flex-1 overflow-hidden"),i=m("flex-grow overflow-auto transparent-when-disconnected"),t[136]=oe,t[137]=i):(oe=t[136],i=t[137]),t[138]!==ue?(ae=g.jsx("div",{className:i,children:ue}),t[138]=ue,t[139]=ae):ae=t[139],te="flex-none flex flex-col w-[300px] p-2 pb-20 gap-2 overflow-auto bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected mx-2 mt-4",t[140]===Symbol.for("react.memo_cache_sentinel")?(ne=g.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),t[140]=ne):ne=t[140],t[141]!==n.columns||t[142]!==n.rowHeight||t[143]!==a?(c=e=>g.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":e.id,onDragStart:t=>{const r=t.currentTarget.offsetHeight;u({i:e.id,w:n.columns/4,h:Math.ceil(r/n.rowHeight)||1}),t.dataTransfer.setData("text/plain","")},className:m(Qr,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:g.jsx(Jr,{code:e.code,className:"select-none pointer-events-none",mode:a,cellId:e.id,output:e.output,isScrollable:!1,status:e.status,hidden:!1})},e.id),t[141]=n.columns,t[142]=n.rowHeight,t[143]=a,t[144]=c):c=t[144],re=s.map(c),t[110]=o,t[111]=ue,t[112]=l,t[113]=d,t[114]=n,t[115]=a,t[116]=r,t[117]=k,t[118]=te,t[119]=ne,t[120]=re,t[121]=oe,t[122]=ae,t[123]=se,t[124]=ue}else te=t[118],ne=t[119],re=t[120],oe=t[121],ae=t[122],se=t[123],ue=t[124];return t[145]!==te||t[146]!==ne||t[147]!==re?(ie=g.jsxs("div",{className:te,children:[ne,re]}),t[145]=te,t[146]=ne,t[147]=re,t[148]=ie):ie=t[148],t[149]!==oe||t[150]!==ae||t[151]!==ie?(le=g.jsxs("div",{className:oe,children:[ae,ie]}),t[149]=oe,t[150]=ae,t[151]=ie,t[152]=le):le=t[152],t[153]!==se||t[154]!==le?(ce=g.jsxs(g.Fragment,{children:[se,le]}),t[153]=se,t[154]=le,t[155]=ce):ce=t[155],ce},getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},io=e=>{const t=f.c(15),{invisible:n,appConfig:r,className:o,children:a,innerClassName:s}=e;let i;t[0]!==o?(i=m("px-1 sm:px-16 md:px-20 xl:px-24 print:px-0 print:pb-0",o),t[0]=o,t[1]=i):i=t[1];const l="compact"===r.width&&"max-w-contentWidth min-w-[400px]",c="medium"===r.width&&"max-w-contentWidthMedium min-w-[400px]",u="columns"===r.width&&"w-fit",d="full"===r.width&&"max-w-full",p=n&&"invisible";let h,y,b;return t[2]!==s||t[3]!==l||t[4]!==c||t[5]!==u||t[6]!==d||t[7]!==p?(h=m("m-auto pb-24 sm:pb-12",l,c,u,d,p,s),t[2]=s,t[3]=l,t[4]=c,t[5]=u,t[6]=d,t[7]=p,t[8]=h):h=t[8],t[9]!==a||t[10]!==h?(y=g.jsx("div",{className:h,children:a}),t[9]=a,t[10]=h,t[11]=y):y=t[11],t[12]!==i||t[13]!==y?(b=g.jsx("div",{className:i,children:y}),t[12]=i,t[13]=y,t[14]=b):b=t[14],b};function lo(e){const t=new URL(window.location.href);return t.hash=`scrollTo=${encodeURIComponent(e)}`,t.toString()}function co(e){return e!==I&&Boolean(e&&e.trim().length>0)}function uo(e,t){const n=f.c(5),[r,o]=p.useState(!0);let a,s;return n[0]!==t||n[1]!==e?(a=()=>{const n=Math.max(Math.min(15*(e-1),100),0),r=setTimeout((()=>{o(!1),"read"!==t&&requestAnimationFrame(po)}),n);return()=>clearTimeout(r)},n[0]=t,n[1]=e,n[2]=a):a=n[2],H(a),n[3]!==r?(s={invisible:r},n[3]=r,n[4]=s):s=n[4],s}function po(){const e=function(e){const t=e.match(/scrollTo=([^&]+)/),n=null==t?void 0:t[1];return n?decodeURIComponent(n.split("&")[0]):null}(window.location.hash);e?function(e){var t,n;if(ho)return;const r=document.querySelector(`[data-cell-name="${e}"]`);if(r){if(r.scrollIntoView({behavior:"smooth",block:"start"}),ho=!0,r instanceof HTMLElement){r.focus();const{cellHandles:a}=W(),s=r.dataset.cellId;if(!s)return void o.error(`Missing cellId for cell with name ${e}`);const i=null==(n=null==(t=a[s])?void 0:t.current)?void 0:n.editorView;i&&i.focus()}}else o.warn(`Cannot focus cell with name ${e} because it was not found`),fo()}(e):fo()}function fo(){var e;const{cellIds:t,cellData:n,cellHandles:r}=W();for(const o of t.iterateTopLevelIds){const t=r[o];if(!n[o].config.hide_code&&(null==(e=null==t?void 0:t.current)?void 0:e.editorView))return void t.current.editorView.focus()}}let ho=!1;const mo=e=>{const t=f.c(13);let n,r,o,a;t[0]!==e?(({value:a,onChange:n,placeholder:r,...o}=e),t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a):(n=t[1],r=t[2],o=t[3],a=t[4]);const s=p.useRef(null),i=yo(a,n);let l;t[5]!==i.onBlur?(l=()=>{const e=i.onBlur,t=s.current;if(t)return t.addEventListener("blur",e),()=>{t.removeEventListener("blur",e)}},t[5]=i.onBlur,t[6]=l):l=t[6],H(l);const c=i.value,u=i.onChange;let d,h;return t[7]===Symbol.for("react.memo_cache_sentinel")?(d=F.onEnter(F.stopPropagation()),t[7]=d):d=t[7],t[8]!==i.onChange||t[9]!==i.value||t[10]!==r||t[11]!==o?(h=g.jsx(B,{"data-testid":"cell-name-input",value:c,onChange:u,ref:s,placeholder:r,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:d,...o}),t[8]=i.onChange,t[9]=i.value,t[10]=r,t[11]=o,t[12]=h):h=t[12],h},go=e=>{const t=f.c(11),{value:n,cellId:r,className:o}=e,{updateCellName:a}=A();let s;t[0]!==r||t[1]!==a?(s=e=>a({cellId:r,name:e}),t[0]=r,t[1]=a,t[2]=s):s=t[2];const i=yo(n,s);if(q(n))return null;let l;t[3]!==o?(l=m("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",o),t[3]=o,t[4]=l):l=t[4];const c=i.onChange,u=i.onBlur;let d,p;return t[5]===Symbol.for("react.memo_cache_sentinel")?(d=F.onEnter(bo),t[5]=d):d=t[5],t[6]!==i.onBlur||t[7]!==i.onChange||t[8]!==l||t[9]!==n?(p=g.jsx(G,{content:"Click to rename",children:g.jsx("span",{className:l,contentEditable:!0,suppressContentEditableWarning:!0,onChange:c,onBlur:u,onKeyDown:d,children:n})}),t[6]=i.onBlur,t[7]=i.onChange,t[8]=l,t[9]=n,t[10]=p):p=t[10],p};function yo(e,t){const n=f.c(11),[r,o]=p.useState(e);let a;n[0]!==t||n[1]!==e?(a=n=>{if(n===e)return;if(!n||q(n))return void t(n);const r=V(n,U());t(r)},n[0]=t,n[1]=e,n[2]=a):a=n[2];const s=a;let i,l,c,u;return n[3]!==r?(i=q(r)?"":r,n[3]=r,n[4]=i):i=n[4],n[5]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{const t=e.target.value,n=Y(t);o(n)},n[5]=l):l=n[5],n[6]!==s?(c=e=>{if(e.target instanceof HTMLInputElement){const t=e.target.value;s(Y(t))}else if(e.target instanceof HTMLSpanElement){const t=e.target.innerText.trim();s(Y(t))}},n[6]=s,n[7]=c):c=n[7],n[8]!==i||n[9]!==c?(u={value:i,onChange:l,onBlur:c},n[8]=i,n[9]=c,n[10]=u):u=n[10],u}function bo(e){e.target instanceof HTMLElement&&e.target.blur()}p.memo((e=>{const t=b.useRef({});return g.jsx(y,{minHeight:"200px",maxHeight:"200px",ref:t,theme:"dark",value:e.code,className:"[&>*]:outline-none [&>.cm-editor]:pr-0 overflow-hidden dark",readOnly:!0,editable:!1,basicSetup:{lineNumbers:!1},extensions:[Ht.shell(),$.updateListener.of((e=>{var n;e.docChanged&&(null==(n=t.current.view)||n.dispatch({selection:{anchor:e.state.doc.length,head:e.state.doc.length},scrollIntoView:!0}))}))]})})).displayName="DebuggerOutput";const vo=e=>{const t=f.c(30),{onSubmit:n,onClear:r}=e;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=m("m-0 w-9 h-8 bg-[var(--slate-2)] text-[var(--slate-11)] hover:text-[var(--blue-11)] rounded-none hover:bg-[var(--sky-3)] hover:border-[var(--blue-8)]","first:rounded-l-lg first:border-l border-t border-b hover:border","last:rounded-r-lg last:border-r"),t[0]=o):o=t[0];const a=o;let s,i,l,c,u,d,p,h,y,b,v,w,x,S,_;return t[1]!==n?(s=()=>n("n"),t[1]=n,t[2]=s):s=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=g.jsx(Kt,{fontSize:36,className:"w-5 h-5"}),t[3]=i):i=t[3],t[4]!==s?(l=g.jsx(G,{content:"Next line",children:g.jsx(X,{variant:"text",size:"icon","data-testid":"debugger-next-button",className:a,onClick:s,children:i})}),t[4]=s,t[5]=l):l=t[5],t[6]!==n?(c=()=>n("c"),t[6]=n,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=m(a,"text-[var(--grass-11)] hover:text-[var(--grass-11)] hover:bg-[var(--grass-3)] hover:border-[var(--grass-8)]"),d=g.jsx($t,{fontSize:36,className:"w-5 h-5"}),t[8]=u,t[9]=d):(u=t[8],d=t[9]),t[10]!==c?(p=g.jsx(G,{content:"Continue execution",children:g.jsx(X,{variant:"text",size:"icon","data-testid":"debugger-continue-button",onClick:c,className:u,children:d})}),t[10]=c,t[11]=p):p=t[11],t[12]!==n?(h=()=>n("bt"),t[12]=n,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=g.jsx(Ut,{fontSize:36,className:"w-5 h-5"}),t[14]=y):y=t[14],t[15]!==h?(b=g.jsx(G,{content:"Print stack trace",children:g.jsx(X,{variant:"text",size:"icon","data-testid":"debugger-stack-button",className:a,onClick:h,children:y})}),t[15]=h,t[16]=b):b=t[16],t[17]!==n?(v=()=>n("help"),t[17]=n,t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=g.jsx(K,{fontSize:36,className:"w-5 h-5"}),t[19]=w):w=t[19],t[20]!==v?(x=g.jsx(G,{content:"Help",children:g.jsx(X,{variant:"text",size:"icon","data-testid":"debugger-help-button",className:a,onClick:v,children:w})}),t[20]=v,t[21]=x):x=t[21],t[22]!==r?(S=r&&g.jsx(G,{content:"Clear",children:g.jsx(X,{variant:"text",size:"icon","data-testid":"debugger-clear-button",className:m(a,"text-[var(--red-11)] hover:text-[var(--red-11)] hover:bg-[var(--red-2)] hover:border-[var(--red-8)]"),onClick:r,children:g.jsx(Jt,{fontSize:36,className:"w-5 h-5"})})}),t[22]=r,t[23]=S):S=t[23],t[24]!==b||t[25]!==x||t[26]!==S||t[27]!==l||t[28]!==p?(_=g.jsxs("div",{className:"flex",children:[l,p,b,x,S]}),t[24]=b,t[25]=x,t[26]=S,t[27]=l,t[28]=p,t[29]=_):_=t[29],_},wo=new J,xo=e=>{const t=f.c(2);let n;return t[0]!==e?(n=g.jsx(Q,{children:g.jsx(So,{...e})}),t[0]=e,t[1]=n):n=t[1],n},So=e=>{const t=f.c(35),n=b.useRef(null),{consoleOutputs:r,stale:o,cellName:a,cellId:s,onSubmitDebugger:i,onClear:l,onRefactorWithAI:c,className:u}=e,d=r.length>0;let h,y,v,w,x,S,_,O;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{const e=n.current;if(!e)return;const t=e.scrollHeight-e.clientHeight;t-e.scrollTop<120&&(e.scrollTop=t)},t[0]=h):h=t[0],p.useLayoutEffect(h),!d&&q(a))return null;if(t[1]!==s||t[2]!==u||t[3]!==r||t[4]!==d||t[5]!==l||t[6]!==c||t[7]!==i||t[8]!==o){const e=[...r].reverse(),a=e.some(Eo);y=o?"This console output is stale":void 0,v="console-output-area",w=n;const p=o&&"marimo-output-stale",f=d?"p-5":"p-3";let h;t[14]!==u||t[15]!==p||t[16]!==f?(x=m("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full gap-1",p,f,u),t[14]=u,t[15]=p,t[16]=f,t[17]=x):x=t[17],t[18]!==s||t[19]!==r.length||t[20]!==a||t[21]!==l||t[22]!==c||t[23]!==i?(h=(e,t)=>{if("pdb"===e.channel)return null;if("stdin"===e.channel){Z("string"==typeof e.data,"Expected data to be a string");const n=r.length-t-1;return null==e.response?g.jsx(_o,{output:e.data,isPdb:a,onSubmit:e=>i(e,n),onClear:l},t):g.jsx(Oo,{output:e.data,response:e.response},t)}return g.jsx(b.Fragment,{children:g.jsx(ee,{cellId:s,onRefactorWithAI:c,message:e})},t)},t[18]=s,t[19]=r.length,t[20]=a,t[21]=l,t[22]=c,t[23]=i,t[24]=h):h=t[24],S=e.map(h),t[1]=s,t[2]=u,t[3]=r,t[4]=d,t[5]=l,t[6]=c,t[7]=i,t[8]=o,t[9]=y,t[10]=v,t[11]=w,t[12]=x,t[13]=S}else y=t[9],v=t[10],w=t[11],x=t[12],S=t[13];return t[25]!==s||t[26]!==a?(_=g.jsx(go,{value:a,cellId:s,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"}),t[25]=s,t[26]=a,t[27]=_):_=t[27],t[28]!==y||t[29]!==v||t[30]!==w||t[31]!==x||t[32]!==S||t[33]!==_?(O=g.jsxs("div",{title:y,"data-testid":v,ref:w,className:x,children:[S,_]}),t[28]=y,t[29]=v,t[30]=w,t[31]=x,t[32]=S,t[33]=_,t[34]=O):O=t[34],O},_o=e=>{const t=f.c(12);let n,r,o,a,s;return t[0]!==e.output?(n=jo(e.output),t[0]=e.output,t[1]=n):n=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsx(te,{className:"w-5 h-5"}),t[2]=r):r=t[2],t[3]!==e?(o=g.jsx(B,{"data-testid":"console-input",type:"text",autoComplete:"off",autoFocus:!0,icon:r,className:"m-0 h-8 focus-visible:shadow-xsSolid",placeholder:"stdin",onKeyDown:t=>{"Enter"!==t.key||t.shiftKey||e.onSubmit(t.currentTarget.value)}}),t[3]=e,t[4]=o):o=t[4],t[5]!==e.onClear||t[6]!==e.onSubmit?(a=g.jsx(vo,{onSubmit:e.onSubmit,onClear:e.onClear}),t[5]=e.onClear,t[6]=e.onSubmit,t[7]=a):a=t[7],t[8]!==n||t[9]!==o||t[10]!==a?(s=g.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[n,o,a]}),t[8]=n,t[9]=o,t[10]=a,t[11]=s):s=t[11],s},Oo=e=>{const t=f.c(7);let n,r,o;return t[0]!==e.output?(n=jo(e.output),t[0]=e.output,t[1]=n):n=t[1],t[2]!==e.response?(r=g.jsx("span",{className:"text-[var(--sky-11)]",children:e.response}),t[2]=e.response,t[3]=r):r=t[3],t[4]!==n||t[5]!==r?(o=g.jsxs("div",{className:"flex gap-2 items-center",children:[n,r]}),t[4]=n,t[5]=r,t[6]=o):o=t[6],o},jo=e=>e?g.jsx("span",{dangerouslySetInnerHTML:{__html:wo.ansi_to_html(e)}}):null;function Eo(e){return"string"==typeof e.data&&e.data.includes("(Pdb)")}const Do=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g;class Co{static get INSTANCE(){const e="_marimo_private_VirtualFileTracker";return window[e]||(window[e]=new Co),window[e]}constructor(){this.virtualFiles=new Map}track(e){const t=e.output,n=e.cell_id;if(t)switch(t.mimetype){case"application/json":case"text/html":{const e=this.virtualFiles.get(n),r=function(e){if(!e)return new Set;const t=new Set,n=("string"==typeof e?e:JSON.stringify(e)).match(Do);if(n)for(const r of n)t.add(r);return t}(t.data);return null==e||e.forEach((e=>r.add(e))),void this.virtualFiles.set(n,r)}default:return}}filenames(){const e=new Set;for(const t of this.virtualFiles.values())t.forEach((t=>e.add(t)));return[...e]}removeForCellId(e){this.virtualFiles.delete(e)}}async function ko(e){const{filename:t,includeCode:n}=e,r=await ne({download:!0,includeCode:n,files:Co.INSTANCE.filenames()}),o=re.basename(t)??"notebook.py";oe(new Blob([r],{type:"text/html"}),ae.toHTML(o))}function No(e){const t=f.c(5),[n,r]=p.useState(void 0),o=p.useRef(null),a=p.useRef(null);let s,i,l;return t[0]!==e?(s=()=>{if(0===e.length)return;return o.current=new IntersectionObserver((e=>{let t;if(t=!1,e.forEach((e=>{const n=e.target;e.isIntersecting?(!a.current||n.getBoundingClientRect().top<a.current.getBoundingClientRect().top)&&(a.current=n,t=!0):n===a.current&&(a.current=null,t=!0)})),t&&a.current){const e=se(a.current),t="id"in e?e.id:e.path;r(t)}}),{root:"edit"===ie?document.getElementById("App"):void 0,rootMargin:"0px",threshold:0}),e.forEach((e=>{var t;e&&(null==(t=o.current)||t.observe(e[0]))})),()=>{o.current&&o.current.disconnect(),a.current=null}},i=[e],t[0]=e,t[1]=s,t[2]=i):(s=t[1],i=t[2]),p.useEffect(s,i),t[3]!==n?(l={activeHeaderId:n},t[3]=n,t[4]=l):l=t[4],l}function Ro(e){if(0===e.length)return[];const t=new Map;return e.map((e=>{const n="id"in e.by?e.by.id:e.by.path,r=t.get(n)??0;t.set(n,r+1);const o=Mo(e,r);return o?[o,n]:null})).filter(Boolean)}function Po(e,t){const n=Mo(e,t);n?(n.scrollIntoView({behavior:"smooth",block:"start"}),n.classList.add("outline-item-highlight"),setTimeout((()=>{n.classList.remove("outline-item-highlight")}),3e3)):o.warn("Could not find element for outline item",e)}function Mo(e,t){if("id"in e.by){return document.querySelectorAll(`[id="${CSS.escape(e.by.id)}"]`)[t]}return document.evaluate(e.by.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}const zo=()=>{const e=f.c(17),{items:t}=le(ce);let n;e[0]!==t?(n=Ro(t),e[0]=t,e[1]=n):n=e[1];const{activeHeaderId:r}=No(n),[o,a]=b.useState(!1);if(t.length<2)return null;let s,i,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>a(!0),i=()=>a(!1),l=m("fixed top-[25vh] right-8 z-[10000]","hidden md:block"),e[2]=s,e[3]=i,e[4]=l):(s=e[2],i=e[3],l=e[4]);const c=o?"-left-[280px] opacity-100":"left-[300px] opacity-0";let u,d,p,h;return e[5]!==c?(u=m("-top-4 max-h-[70vh] bg-background rounded-lg shadow-lg absolute overflow-auto transition-all duration-300 w-[300px] border",c),e[5]=c,e[6]=u):u=e[6],e[7]!==r||e[8]!==t||e[9]!==u?(d=g.jsx(Lo,{className:u,items:t,activeHeaderId:r}),e[7]=r,e[8]=t,e[9]=u,e[10]=d):d=e[10],e[11]!==r||e[12]!==t?(p=g.jsx(To,{items:t,activeHeaderId:r}),e[11]=r,e[12]=t,e[13]=p):p=e[13],e[14]!==d||e[15]!==p?(h=g.jsxs("div",{onMouseEnter:s,onMouseLeave:i,className:l,children:[d,p]}),e[14]=d,e[15]=p,e[16]=h):h=e[16],h},To=e=>{const t=f.c(7),{items:n,activeHeaderId:r}=e;let o,a,s;if(t[0]!==r||t[1]!==n){const e=new Map;o="flex flex-col gap-4 items-end max-h-[70vh] overflow-hidden",a=n.map(((t,n)=>{const o="id"in t.by?t.by.id:t.by.path,a=e.get(o)??0;return e.set(o,a+1),g.jsx("div",{className:m("h-[2px] bg-muted-foreground/60",1===t.level&&"w-5",2===t.level&&"w-4",3===t.level&&"w-3",4===t.level&&"w-2",r===o&&"bg-foreground"),onClick:()=>Po(t,a)},`${o}-${n}`)})),t[0]=r,t[1]=n,t[2]=o,t[3]=a}else o=t[2],a=t[3];return t[4]!==o||t[5]!==a?(s=g.jsx("div",{className:o,children:a}),t[4]=o,t[5]=a,t[6]=s):s=t[6],s},Lo=e=>{const t=f.c(10),{items:n,activeHeaderId:r,className:o}=e;let a,s,i;if(t[0]!==r||t[1]!==o||t[2]!==n){const e=new Map;t[5]!==o?(a=m("flex flex-col overflow-auto py-4 pl-2",o),t[5]=o,t[6]=a):a=t[6],s=n.map(((t,n)=>{const o="id"in t.by?t.by.id:t.by.path,a=e.get(o)??0;return e.set(o,a+1),g.jsx("div",{className:m("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",1===t.level&&"font-semibold",2===t.level&&"ml-3",3===t.level&&"ml-6",4===t.level&&"ml-9",r===o&&"text-accent-foreground"),onClick:()=>Po(t,a),children:t.name},`${o}-${n}`)})),t[0]=r,t[1]=o,t[2]=n,t[3]=a,t[4]=s}else a=t[3],s=t[4];return t[7]!==a||t[8]!==s?(i=g.jsx("div",{className:a,children:s}),t[7]=a,t[8]=s,t[9]=i):i=t[9],i},Io=e=>{const t=f.c(10),{canShowCode:n,showCode:r,onToggleShowCode:o}=e,a=Bo,s=Fo;let i,l,c,u,d,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=m("right-0 top-0 z-50 m-4 no-print flex gap-2 print:hidden",he()?"absolute":"fixed"),t[0]=i):i=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=g.jsx(P,{asChild:!0,children:g.jsx(X,{variant:"secondary",size:"xs",children:g.jsx(Bt,{className:"w-4 h-4"})})}),t[1]=l):l=t[1],t[2]!==n||t[3]!==o||t[4]!==r?(c=n&&g.jsxs(g.Fragment,{children:[g.jsxs(j,{onSelect:o,id:"notebook-action-show-code",children:[g.jsx(xe,{className:"mr-2",size:14,strokeWidth:1.5}),g.jsx("span",{className:"flex-1",children:"Show code"}),r&&g.jsx(D,{className:"h-4 w-4"})]}),g.jsx(Se,{})]}),t[2]=n,t[3]=o,t[4]=r,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=g.jsxs(j,{onSelect:s,id:"notebook-action-download-html",children:[g.jsx(Ft,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as HTML"]}),t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=g.jsxs(j,{onSelect:a,id:"notebook-action-download-png",children:[g.jsx(Vt,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as PNG"]}),t[7]=d):d=t[7],t[8]!==c?(p=g.jsx("div",{id:"notebook-actions-dropdown",className:i,children:g.jsxs(z,{modal:!1,children:[l,g.jsxs(M,{align:"end",className:"no-print w-[220px]",children:[c,u,d]})]})}),t[8]=c,t[9]=p):p=t[9],p},Ho=p.memo((e=>{const t=f.c(55),{output:n,consoleOutputs:r,cellOutputArea:o,cellId:a,status:s,stopped:i,errored:l,config:c,interrupted:u,staleInputs:d,runStartTimestamp:h,code:y,showCode:b,mode:v,name:S,kiosk:_}=e,O=p.useRef(null);let j;t[0]!==u||t[1]!==n||t[2]!==h||t[3]!==d||t[4]!==s?(j=ge({status:s,output:n,interrupted:u,runStartTimestamp:h,staleInputs:d},!1),t[0]=u,t[1]=n,t[2]=h,t[3]=d,t[4]=s,t[5]=j):j=t[5];const E=j;let D;t[6]!==s?(D=w(s),t[6]=s,t[7]=D):D=t[7];const C=D,k=_&&"present"!==v;let N,R;if(t[8]!==y||t[9]!==l||t[10]!==k||t[11]!==v||t[12]!==b||t[13]!==i){N=(new ye).isSupported(y);const e=!b&&!k;R=m("marimo-cell","hover-actions-parent empty:invisible",{published:e,interactive:"edit"===v,"has-error":l,stopped:i,borderless:N&&!e}),t[8]=y,t[9]=l,t[10]=k,t[11]=v,t[12]=b,t[13]=i,t[14]=N,t[15]=R}else N=t[14],R=t[15];const P=R;let M;t[16]!==a?(M=be.create(a),t[16]=a,t[17]=M):M=t[17];const z=M;if("read"===v&&b||k){let e;t[18]!==a||t[19]!==C||t[20]!==n||t[21]!==E?(e=g.jsx(x,{allowExpand:!0,output:n,className:"output-area",cellId:a,stale:E,loading:C}),t[18]=a,t[19]=C,t[20]=n,t[21]=E,t[22]=e):e=t[22];const s=e,i=""===y.trim(),l="above"===o&&s;let u;t[23]!==y||t[24]!==c||t[25]!==i||t[26]!==N||t[27]!==_?(u=!N&&!i&&g.jsx("div",{className:"tray",children:g.jsx(ve,{initiallyHideCode:c.hide_code||_,code:y})}),t[23]=y,t[24]=c,t[25]=i,t[26]=N,t[27]=_,t[28]=u):u=t[28];const d="below"===o&&s;let p,f;return t[29]!==a||t[30]!==r||t[31]!==S||t[32]!==E?(p=g.jsx(xo,{consoleOutputs:r,stale:E,cellName:S,onSubmitDebugger:Go,cellId:a,debuggerActive:!1}),t[29]=a,t[30]=r,t[31]=S,t[32]=E,t[33]=p):p=t[33],t[34]!==z||t[35]!==a||t[36]!==P||t[37]!==S||t[38]!==l||t[39]!==u||t[40]!==d||t[41]!==p?(f=g.jsxs("div",{tabIndex:-1,id:z,ref:O,className:P,"data-cell-id":a,"data-cell-name":S,children:[l,u,d,p]}),t[34]=z,t[35]=a,t[36]=P,t[37]=S,t[38]=l,t[39]=u,t[40]=d,t[41]=p,t[42]=f):f=t[42],f}const T=we(null==n?void 0:n.mimetype);if(l||u||i||T)return null;const L="edit"===v;let I,H;return t[43]!==a||t[44]!==C||t[45]!==n||t[46]!==E||t[47]!==L?(I=g.jsx(x,{allowExpand:L,output:n,className:"output-area",cellId:a,stale:E,loading:C}),t[43]=a,t[44]=C,t[45]=n,t[46]=E,t[47]=L,t[48]=I):I=t[48],t[49]!==z||t[50]!==a||t[51]!==P||t[52]!==S||t[53]!==I?(H=g.jsx("div",{tabIndex:-1,id:z,ref:O,className:P,"data-cell-id":a,"data-cell-name":S,children:I}),t[49]=z,t[50]=a,t[51]=P,t[52]=S,t[53]=I,t[54]=H):H=t[54],H}));Ho.displayName="VerticalCell";const Wo={type:"vertical",name:"Vertical",validator:L.any(),Component:e=>{const t=f.c(33),{cells:n,appConfig:r,mode:o}=e,{invisible:a}=uo(n.length,o),s=le(ue),[i]=de();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=new URLSearchParams(window.location.search),t[0]=l):l=t[0];const c=l;let u;t[1]!==s?(u=()=>{if(!pe())return!1;const e=c.get(fe.showCode);return null===e?he()||me()||s:"true"===e},t[1]=s,t[2]=u):u=t[2];const[d,h]=p.useState(u);let m;t[3]!==n||t[4]!==s||t[5]!==o?(m=()=>{const e=n.some(Ao);if(s)return!0;const t=c.get(fe.includeCode);return"read"===o&&"false"!==t&&e},t[3]=n,t[4]=s,t[5]=o,t[6]=m):m=t[6];const y=m;let b;t[7]!==y?(b=y(),t[7]=y,t[8]=b):b=t[8];const v=b;let w;t[9]!==v||t[10]!==s||t[11]!==o||t[12]!==d||t[13]!==i?(w=e=>g.jsx(Ho,{cellId:e.id,output:e.output,consoleOutputs:e.consoleOutputs,status:e.status,code:e.code,config:e.config,cellOutputArea:i.display.cell_output,stopped:e.stopped,showCode:d&&v,errored:e.errored,mode:o,runStartTimestamp:e.runStartTimestamp,interrupted:e.interrupted,staleInputs:e.staleInputs,name:e.name,kiosk:s},e.id),t[9]=v,t[10]=s,t[11]=o,t[12]=d,t[13]=i,t[14]=w):w=t[14];const x=w;let S;t[15]!==r.width||t[16]!==n||t[17]!==x?(S=()=>{if("columns"===r.width){const e=function(e){const t=new Map;let n=0;return e.forEach((e=>{var r;const o=e.config.column??n;n=o,t.has(o)||t.set(o,[]),null==(r=t.get(o))||r.push(e)})),[...t.entries()].sort((([e],[t])=>e-t))}(n);return g.jsx("div",{className:"flex flex-row gap-8 w-full",children:e.map((e=>{const[t,n]=e;return g.jsx("div",{className:"flex-1 flex flex-col gap-2 w-contentWidth",children:n.map(x)},t)}))})}return g.jsx(g.Fragment,{children:n.map(x)})},t[15]=r.width,t[16]=n,t[17]=x,t[18]=S):S=t[18];const _=S;let O,j,E,D;return t[19]!==v||t[20]!==_||t[21]!==d?(O=d&&v?g.jsxs("div",{className:"flex flex-col gap-5",children:[" ",_()]}):_(),t[19]=v,t[20]=_,t[21]=d,t[22]=O):O=t[22],t[23]!==v||t[24]!==o||t[25]!==d?(j="read"===o&&g.jsx(Io,{canShowCode:v,showCode:d,onToggleShowCode:()=>h(qo)}),t[23]=v,t[24]=o,t[25]=d,t[26]=j):j=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(E=g.jsx(zo,{}),t[27]=E):E=t[27],t[28]!==r||t[29]!==a||t[30]!==O||t[31]!==j?(D=g.jsxs(io,{invisible:a,appConfig:r,children:[O,j,E]}),t[28]=r,t[29]=a,t[30]=O,t[31]=j,t[32]=D):D=t[32],D},deserializeLayout:e=>e,serializeLayout:e=>e,getInitialLayout:()=>null};function Ao(e){return Boolean(e.code)}function qo(e){return!e}async function Bo(){const e=document.getElementById("App");e&&await _e(e,document.title)}async function Fo(){document.getElementById("App")&&await ko({filename:document.title,includeCode:!0})}function Go(){return null}const Vo=b.lazy((()=>Oe((()=>import("./slides-component-Butt8x-k.js")),__vite__mapDeps([0,1,2,3]),import.meta.url))),Uo=p.memo((e=>{const t=f.c(6),{output:n,cellId:r,status:o}=e;let a;t[0]!==o?(a=w(o),t[0]=o,t[1]=a):a=t[1];const s=a;let i;return t[2]!==r||t[3]!==s||t[4]!==n?(i=g.jsx(x,{className:"contents",allowExpand:!1,output:n,cellId:r,stale:s,loading:s}),t[2]=r,t[3]=s,t[4]=n,t[5]=i):i=t[5],i}));Uo.displayName="Slide";const Yo=[so,{type:"slides",name:"Slides",validator:L.object({}),deserializeLayout:(e,t)=>({}),serializeLayout:(e,t)=>({}),Component:e=>{const t=f.c(11),{cells:n,mode:r}=e,o="read"===r;let a,s;if(t[0]!==n||t[1]!==r){let e;t[3]!==r?(e=e=>null==e.output||""===e.output.data?null:g.jsx(Uo,{cellId:e.id,code:e.code,status:e.status,output:e.output,mode:r},e.id),t[3]=r,t[4]=e):e=t[4],a=n.map(e),t[0]=n,t[1]=r,t[2]=a}else a=t[2];t[5]!==a?(s=g.jsx(Vo,{forceKeyboardNavigation:!0,children:a}),t[5]=a,t[6]=s):s=t[6];const i=s;if(o){let e;return t[7]!==i?(e=g.jsx("div",{className:"p-4",children:i}),t[7]=i,t[8]=e):e=t[8],e}let l;return t[9]!==i?(l=g.jsx("div",{className:"pr-9",children:i}),t[9]=i,t[10]=l):l=t[10],l},getInitialLayout:()=>({})},Wo];function $o(){return{selectedLayout:"vertical",layoutData:{}}}const{valueAtom:Xo,useActions:Ko}=je($o,{setLayoutView:(e,t)=>({...e,selectedLayout:t}),setLayoutData:(e,t)=>({...e,selectedLayout:t.layoutView,layoutData:{...e.layoutData,[t.layoutView]:t.data}}),setCurrentLayoutData:(e,t)=>({...e,layoutData:{...e.layoutData,[e.selectedLayout]:t}})}),Qo=()=>le(Xo),Jo=()=>Ko();function Zo(){const e=W(),{layoutData:t,selectedLayout:n}=Ee.get(Xo);if("vertical"===n)return;if(void 0===t)return;const r=t[n],a=Yo.find((e=>e.type===n));if(void 0!==a)return{type:n,data:a.serializeLayout(r,De(e))};o.error(`Unknown layout type: ${n}`)}const ea=["vertical","grid","slides"],ta=["slides"],na=p.memo((e=>{const t=f.c(8),{appConfig:n,mode:r,children:o}=e,{selectedLayout:a,layoutData:s}=Qo(),i=le(ue);if("edit"===r&&!i)return o;let l;l=a;const c=new URLSearchParams(window.location.search);if("read"===r&&c.has(fe.viewAs)){const e=c.get(fe.viewAs);ta.includes(e)&&(l=e)}let u;t[0]!==l?(u=Yo.find((e=>e.type===l)),t[0]=l,t[1]=u):u=t[1];const d=u;if(!d)return o;let p;return t[2]!==n||t[3]!==l||t[4]!==s||t[5]!==r||t[6]!==d?(p=g.jsx(ra,{appConfig:n,mode:r,plugin:d,layoutData:s,finalLayout:l}),t[2]=n,t[3]=l,t[4]=s,t[5]=r,t[6]=d,t[7]=p):p=t[7],p}));na.displayName="CellsRenderer";const ra=e=>{const t=f.c(18),{appConfig:n,mode:r,plugin:o,layoutData:a,finalLayout:s}=e,i=Ce(),{setCurrentLayoutData:l}=Jo();let c,u,d,p,h,m;if(t[0]!==n||t[1]!==s||t[2]!==a||t[3]!==r||t[4]!==i||t[5]!==o){const e=ke(i);c=o.Component,u=n,d=r,p=e,h=a[s]||o.getInitialLayout(e),t[0]=n,t[1]=s,t[2]=a,t[3]=r,t[4]=i,t[5]=o,t[6]=c,t[7]=u,t[8]=d,t[9]=p,t[10]=h}else c=t[6],u=t[7],d=t[8],p=t[9],h=t[10];t[11]!==c||t[12]!==l||t[13]!==u||t[14]!==d||t[15]!==p||t[16]!==h?(m=g.jsx(c,{appConfig:u,mode:d,cells:p,layout:h,setLayout:l}),t[11]=c,t[12]=l,t[13]=u,t[14]=d,t[15]=p,t[16]=h,t[17]=m):m=t[17];return m};function oa(){const{cellRuntime:e}=Ee.get(Ne),t=O.entries(e).find((([e,t])=>"running"===t.status));t&&Re(t[0],"focus")}const aa=e=>{const t=f.c(17),{connection:n,isRunning:r}=e;let o,a,s,i,l;return t[0]!==n.state||t[1]!==r?(o=n.state===Pe.OPEN&&r&&g.jsx(ca,{}),t[0]=n.state,t[1]=r,t[2]=o):o=t[2],t[3]!==n.canTakeover||t[4]!==n.state?(a=n.state===Pe.CLOSED&&!n.canTakeover&&g.jsx(ua,{}),t[3]=n.canTakeover,t[4]=n.state,t[5]=a):a=t[5],t[6]!==n.canTakeover||t[7]!==n.state?(s=n.state===Pe.CLOSED&&!n.canTakeover&&g.jsx(ia,{}),t[6]=n.canTakeover,t[7]=n.state,t[8]=s):s=t[8],t[9]!==n.canTakeover||t[10]!==n.state?(i=n.state===Pe.CLOSED&&n.canTakeover&&g.jsx(la,{}),t[9]=n.canTakeover,t[10]=n.state,t[11]=i):i=t[11],t[12]!==o||t[13]!==a||t[14]!==s||t[15]!==i?(l=g.jsxs(g.Fragment,{children:[o,a,s,i]}),t[12]=o,t[13]=a,t[14]=s,t[15]=i,t[16]=l):l=t[16],l},sa="absolute top-4 left-4 m-0 flex items-center space-x-3 min-h-[28px] no-print pointer-events-auto z-50 hover:cursor-pointer",ia=()=>{const e=f.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsx(G,{content:"App disconnected",children:g.jsx("div",{className:sa,children:g.jsx(Zt,{className:"w-[25px] h-[25px] text-[var(--red-11)]"})})}),e[0]=t):t=e[0],t},la=()=>{const e=f.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsx(G,{content:"Notebook locked",children:g.jsx("div",{className:sa,children:g.jsx(R,{className:"w-[25px] h-[25px] text-[var(--blue-11)]"})})}),e[0]=t):t=e[0],t},ca=()=>{const e=f.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsx(G,{content:"Jump to running cell",side:"right",children:g.jsx("div",{className:sa,"data-testid":"loading-indicator",onClick:oa,children:g.jsx(Gt,{className:"running-app-icon",size:30,strokeWidth:1})})}),e[0]=t):t=e[0],t},ua=()=>{const e=f.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"noise"}),g.jsx("div",{className:"disconnected-gradient"})]}),e[0]=t):t=e[0],t},da=Ge,pa=Fe,fa=Me(ze),ha=b.forwardRef(((e,t)=>{const n=f.c(9);let r,o,a,s;return n[0]!==e?(({className:r,...o}=e),n[0]=e,n[1]=r,n[2]=o):(r=n[1],o=n[2]),n[3]!==r?(a=m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),n[3]=r,n[4]=a):a=n[4],n[5]!==o||n[6]!==t||n[7]!==a?(s=g.jsx(Te,{className:a,...o,ref:t}),n[5]=o,n[6]=t,n[7]=a,n[8]=s):s=n[8],s}));ha.displayName=Te.displayName;const ma=Le("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ga=b.forwardRef(((e,t)=>{const n=f.c(15);let r,o,a,s;n[0]!==e?(({side:s,className:o,children:r,...a}=e),n[0]=e,n[1]=r,n[2]=o,n[3]=a,n[4]=s):(r=n[1],o=n[2],a=n[3],s=n[4]);const i=void 0===s?"right":s;let l,c,u,d;return n[5]===Symbol.for("react.memo_cache_sentinel")?(l=g.jsx(ha,{}),n[5]=l):l=n[5],n[6]!==o||n[7]!==i?(c=m(ma({side:i}),o),n[6]=o,n[7]=i,n[8]=c):c=n[8],n[9]===Symbol.for("react.memo_cache_sentinel")?(u=g.jsxs(qe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[g.jsx(Be,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]}),n[9]=u):u=n[9],n[10]!==r||n[11]!==a||n[12]!==t||n[13]!==c?(d=g.jsx(fa,{children:g.jsxs(Ie,{children:[l,g.jsxs(He,{ref:t,className:c,...a,children:[r,u]})]})}),n[10]=r,n[11]=a,n[12]=t,n[13]=c,n[14]=d):d=n[14],d}));ga.displayName=He.displayName;b.forwardRef(((e,t)=>{const n=f.c(9);let r,o,a,s;return n[0]!==e?(({className:r,...o}=e),n[0]=e,n[1]=r,n[2]=o):(r=n[1],o=n[2]),n[3]!==r?(a=m("text-lg font-semibold text-foreground",r),n[3]=r,n[4]=a):a=n[4],n[5]!==o||n[6]!==t||n[7]!==a?(s=g.jsx(We,{ref:t,className:a,...o}),n[5]=o,n[6]=t,n[7]=a,n[8]=s):s=n[8],s})).displayName=We.displayName;b.forwardRef(((e,t)=>{const n=f.c(9);let r,o,a,s;return n[0]!==e?(({className:r,...o}=e),n[0]=e,n[1]=r,n[2]=o):(r=n[1],o=n[2]),n[3]!==r?(a=m("text-sm text-muted-foreground",r),n[3]=r,n[4]=a):a=n[4],n[5]!==o||n[6]!==t||n[7]!==a?(s=g.jsx(Ae,{ref:t,className:a,...o}),n[5]=o,n[6]=t,n[7]=a,n[8]=s):s=n[8],s})).displayName=Ae.displayName;const ya=p.memo((()=>{const e=f.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=g.jsx(Ve,{name:Ue.SIDEBAR}),e[0]=t):t=e[0],t}));ya.displayName="SidebarSlot";const ba=e=>{const t=f.c(6),{openWidth:n}=e;let r,o,a,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsx(pa,{className:"lg:hidden",asChild:!0,children:g.jsx(X,{variant:"ghost",className:"bg-background",children:g.jsx(Yt,{className:"w-5 h-5"})})}),t[0]=r):r=t[0],t[1]!==n?(o={maxWidth:n},t[1]=n,t[2]=o):o=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(a=g.jsx(ya,{}),t[3]=a):a=t[3],t[4]!==o?(s=g.jsxs(da,{children:[r,g.jsx(ga,{className:"w-full px-3 h-full flex flex-col overflow-y-auto",style:o,side:"left",children:a})]}),t[4]=o,t[5]=s):s=t[5],s},va=e=>{const t=f.c(7),{isOpen:n,toggle:r}=e,o=n?"rotate-0":"rotate-180";let a,s,i;return t[0]!==o?(a=m("h-5 w-5 transition-transform ease-in-out duration-700",o),t[0]=o,t[1]=a):a=t[1],t[2]!==a?(s=g.jsx(Ye,{className:a}),t[2]=a,t[3]=s):s=t[3],t[4]!==s||t[5]!==r?(i=g.jsx("div",{className:"invisible lg:visible absolute top-[12px] right-[16px] z-20",children:g.jsx(X,{onClick:r,className:"w-10 h-8",variant:"ghost",size:"icon",children:s})}),t[4]=s,t[5]=r,t[6]=i):i=t[6],i},wa=e=>{const t=f.c(11),{isOpen:n,toggle:r,width:o}=e,a=n?o:$e;let s,i,l,c,u;return t[0]!==a?(s={width:a},t[0]=a,t[1]=s):s=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=m("app-sidebar auto-collapse-nav","top-0 left-0 z-20 h-full hidden lg:block relative transition-[width] ease-in-out duration-300"),t[2]=i):i=t[2],t[3]!==n||t[4]!==r?(l=g.jsx(va,{isOpen:n,toggle:r}),t[3]=n,t[4]=r,t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx("div",{className:"relative h-full flex flex-col px-3 pb-16 pt-14 overflow-y-auto shadow-sm border-l",children:g.jsx(ya,{})}),t[6]=c):c=t[6],t[7]!==n||t[8]!==s||t[9]!==l?(u=g.jsxs("aside",{"data-expanded":n,style:s,className:i,children:[l,c]}),t[7]=n,t[8]=s,t[9]=l,t[10]=u):u=t[10],u},xa=e=>{const t=f.c(15),{children:n}=e,[r,o]=Xe(Ke),{isOpen:a,width:s}=r;if(0===Qe(Ue.SIDEBAR).length)return n;let i;t[0]!==s?(i=Je(s),t[0]=s,t[1]=i):i=t[1];const l=i;let c,u,d,p;return t[2]!==o||t[3]!==a?(c=()=>o({type:"toggle",isOpen:!a}),t[2]=o,t[3]=a,t[4]=c):c=t[4],t[5]!==a||t[6]!==l||t[7]!==c?(u=g.jsx(wa,{isOpen:a,width:l,toggle:c}),t[5]=a,t[6]=l,t[7]=c,t[8]=u):u=t[8],t[9]!==l?(d=g.jsx("div",{className:"absolute top-3 left-4 flex items-center z-50",children:g.jsx(ba,{openWidth:l})}),t[9]=l,t[10]=d):d=t[10],t[11]!==n||t[12]!==u||t[13]!==d?(p=g.jsxs("div",{className:"inset-0 absolute flex",children:[u,d,n]}),t[11]=n,t[12]=u,t[13]=d,t[14]=p):p=t[14],p},Sa=e=>{const t=f.c(10),{title:n}=e,[r,o]=p.useState(n),[a,s]=p.useState(!0);let i,l,c;t[0]!==r||t[1]!==n?(i=()=>{if(n!==r){s(!1);const e=setTimeout((()=>{o(n),s(!0)}),300);return()=>clearTimeout(e)}},l=[n,r],t[0]=r,t[1]=n,t[2]=i,t[3]=l):(i=t[2],l=t[3]),p.useEffect(i,l),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx(Ze,{className:"size-20 animate-spin text-primary","data-testid":"large-spinner",strokeWidth:1}),t[4]=c):c=t[4];const u=a?"opacity-100":"opacity-0";let d,h;return t[5]!==u?(d=m("mt-2 text-muted-foreground font-semibold text-lg transition-opacity duration-300",u),t[5]=u,t[6]=d):d=t[6],t[7]!==r||t[8]!==d?(h=g.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[c,g.jsx("div",{className:d,children:r})]}),t[7]=r,t[8]=d,t[9]=h):h=t[9],h},_a=e=>{const t=f.c(2),{children:n}=e;if(!me())return n;let r;return t[0]!==n?(r=g.jsx(Oa,{children:n}),t[0]=n,t[1]=r):r=t[1],r},Oa=e=>{const t=f.c(3),{children:n}=e;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[0]=r):r=t[0];const{loading:o,error:a}=et(Ea,r),s=le(tt);if(o){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=g.jsx(ja,{}),t[1]=e):e=t[1],e}if(!s&&"read"===ie&&(nt(fe.showCode,"false")||!pe())){let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=g.jsx(ja,{}),t[2]=e):e=t[2],e}if(a)throw a;return n};const ja=e=>{const t=f.c(2),n=le(ot);let r;return t[0]!==n?(r=g.jsx(Sa,{title:n}),t[0]=n,t[1]=r):r=t[1],r};async function Ea(){return await rt.INSTANCE.initialized.promise,!0}const Da={idle:"./favicon.ico",success:"./circle-check.ico",running:"./circle-play.ico",error:"./circle-x.ico"},Ca=new Map;async function ka(e){const t=Ca.get(e);if(t)return t;const n=await fetch(Da[e]),r=await n.blob(),o=URL.createObjectURL(r);return Ca.set(e,o),o}const Na=e=>{const t=f.c(15),{isRunning:n}=e,r=at();let o,a,s,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=document.querySelector("link[rel~='icon']"),o||(o=document.createElement("link"),o.rel="icon",document.getElementsByTagName("head")[0].append(o)),t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[1]=a):a=t[1],p.useEffect(Ma,a),t[2]!==r||t[3]!==n?(s=()=>{if(!n&&o.href.includes("favicon"))return;(async()=>{let e;if(e=n?"running":0===r.length?"success":"error",o.href=await ka(e),!document.hasFocus())return;const t=setTimeout((async()=>{o.href=await ka("idle")}),3e3)})()},t[2]=r,t[3]=n,t[4]=s):s=t[4],t[5]!==r||t[6]!==n?(i=[n,r,o],t[5]=r,t[6]=n,t[7]=i):i=t[7],p.useEffect(s,i);const l=st(n)??n;let c,u,d;return t[8]!==r||t[9]!==n||t[10]!==l?(c=()=>{l&&!n&&function(e){if("visible"===document.visibilityState)return;const t=async()=>{0===e?new Notification("Execution completed",{body:"Your notebook run completed successfully.",icon:await ka("success")}):new Notification("Execution failed",{body:`Your notebook run encountered ${e} error(s).`,icon:await ka("error")})};"Notification"in window&&"denied"!==Notification.permission&&("granted"===Notification.permission?t():"default"===Notification.permission&&Notification.requestPermission().then((e=>{"granted"===e&&t()})))}(r.length)},u=[r,l,n],t[8]=r,t[9]=n,t[10]=l,t[11]=c,t[12]=u):(c=t[11],u=t[12]),p.useEffect(c,u),t[13]!==n?(d=async e=>{n||(o.href=await ka("idle"))},t[13]=n,t[14]=d):d=t[14],it(window,"focus",d),null};function Ra(e){return URL.revokeObjectURL(e)}function Pa(){Ca.forEach(Ra)}function Ma(){return Pa}const za=e=>{const t=f.c(18),{width:n,connection:r,isRunning:o,children:a}=e,s=r.state;let i,l;t[0]!==o?(i=g.jsx(Na,{isRunning:o}),t[0]=o,t[1]=i):i=t[1],t[2]!==r||t[3]!==o?(l=g.jsx(aa,{connection:r,isRunning:o}),t[2]=r,t[3]=o,t[4]=l):l=t[4];const c=s===Pe.CLOSED&&"disconnected",u="full"===n&&"config-width-full",d="columns"===n?"overflow-x-auto":"overflow-x-hidden";let p,h,y;return t[5]!==c||t[6]!==u||t[7]!==d?(p=m("mathjax_ignore",c,"bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto",u,d,"print:height-fit"),t[5]=c,t[6]=u,t[7]=d,t[8]=p):p=t[8],t[9]!==a||t[10]!==s||t[11]!==p||t[12]!==n?(h=g.jsx(_a,{children:g.jsx(xa,{children:g.jsx("div",{id:"App","data-config-width":n,"data-connection-state":s,className:p,children:a})})}),t[9]=a,t[10]=s,t[11]=p,t[12]=n,t[13]=h):h=t[13],t[14]!==i||t[15]!==l||t[16]!==h?(y=g.jsxs(g.Fragment,{children:[i,l,h]}),t[14]=i,t[15]=l,t[16]=h,t[17]=y):y=t[17],y},Ta=e=>{const t=f.c(10),{reason:n,canTakeover:r}=e,o=void 0!==r&&r,a=La;if(o){let e,r,s,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=g.jsx("div",{className:"flex justify-between",children:g.jsx("span",{className:"font-bold text-xl flex items-center mb-2",children:"Notebook already connected"})}),t[0]=e):e=t[0],t[1]!==n?(r=g.jsx("span",{children:n}),t[1]=n,t[2]=r):r=t[2],t[3]!==o?(s=o&&g.jsxs(X,{onClick:a,variant:"outline","data-testid":"takeover-button",className:"flex-shrink-0",children:[g.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Take over session"]}),t[3]=o,t[4]=s):s=t[4],t[5]!==r||t[6]!==s?(i=g.jsx("div",{className:"flex justify-center",children:g.jsxs(lt,{kind:"info",className:"mt-10 flex flex-col rounded p-3 max-w-[800px] mx-4",children:[e,g.jsxs("div",{className:"flex justify-between items-end text-base gap-20",children:[r,s]})]})}),t[5]=r,t[6]=s,t[7]=i):i=t[7],i}let s;return t[8]!==n?(s=g.jsx("div",{className:"font-mono text-center text-base text-[var(--red-11)]",children:g.jsx("p",{children:n})}),t[8]=n,t[9]=s):s=t[9],s};async function La(){try{const e=new URL(window.location.href).searchParams;await ct.post(`/kernel/takeover?${e.toString()}`,{}),ut()}catch(e){dt({title:"Failed to take over session",description:pt(e),variant:"danger"})}}const Ia=e=>{const t=f.c(8),{connection:n,className:r,children:o}=e;let a,s;return t[0]!==n.canTakeover||t[1]!==n.reason||t[2]!==n.state?(a=n.state===Pe.CLOSED&&g.jsx(Ta,{reason:n.reason,canTakeover:n.canTakeover}),t[0]=n.canTakeover,t[1]=n.reason,t[2]=n.state,t[3]=a):a=t[3],t[4]!==o||t[5]!==r||t[6]!==a?(s=g.jsxs("div",{className:r,children:[o,a]}),t[4]=o,t[5]=r,t[6]=a,t[7]=s):s=t[7],s};globalThis.EventTarget&&globalThis.Event||console.error("\n  PartySocket requires a global 'EventTarget' class to be available!\n  You can polyfill this global by adding this to your code before any partysocket imports: \n  \n  ```\n  import 'partysocket/event-target-polyfill';\n  ```\n  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.\n");var Ha,Wa=class extends Event{constructor(e,n){super("error",n),t(this,"message"),t(this,"error"),this.message=e.message,this.error=e}},Aa=class extends Event{constructor(e=1e3,n="",r){super("close",r),t(this,"code"),t(this,"reason"),t(this,"wasClean",!0),this.code=e,this.reason=n}},qa=(Event,Wa),Ba=Aa;var Fa="undefined"!=typeof process&&void 0!==(null==(Ha=process.versions)?void 0:Ha.node)&&"undefined"==typeof document?function(e){if("data"in e){return new MessageEvent(e.type,e)}if("code"in e||"reason"in e){return new Aa(e.code||1999,e.reason||"unknown reason",e)}if("error"in e){return new Wa(e.error,e)}return new Event(e.type,e)}:function(e){return new e.constructor(e.type,e)},Ga={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},Va=!1,Ua=class e extends EventTarget{constructor(e,n,r={}){super(),t(this,"_ws"),t(this,"_retryCount",-1),t(this,"_uptimeTimeout"),t(this,"_connectTimeout"),t(this,"_shouldReconnect",!0),t(this,"_connectLock",!1),t(this,"_binaryType","blob"),t(this,"_closeCalled",!1),t(this,"_messageQueue",[]),t(this,"_debugLogger",console.log.bind(console)),t(this,"_url"),t(this,"_protocols"),t(this,"_options"),t(this,"onclose",null),t(this,"onerror",null),t(this,"onmessage",null),t(this,"onopen",null),t(this,"_handleOpen",(e=>{this._debug("open event");const{minUptime:t=Ga.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout((()=>this._acceptOpen()),t),function(e,t){if(!e)throw new Error(t)}(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach((e=>{var t;return null==(t=this._ws)?void 0:t.send(e)})),this._messageQueue=[],this.onopen&&this.onopen(e),this.dispatchEvent(Fa(e))})),t(this,"_handleMessage",(e=>{this._debug("message event"),this.onmessage&&this.onmessage(e),this.dispatchEvent(Fa(e))})),t(this,"_handleError",(e=>{this._debug("error event",e.message),this._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),this.onerror&&this.onerror(e),this._debug("exec error listeners"),this.dispatchEvent(Fa(e)),this._connect()})),t(this,"_handleClose",(e=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(e),this.dispatchEvent(Fa(e))})),this._url=e,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return e.CONNECTING}get OPEN(){return e.OPEN}get CLOSING(){return e.CLOSING}get CLOSED(){return e.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce(((e,t)=>("string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e)),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(e=1e3,t){this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")}reconnect(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()}send(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{const{maxEnqueuedMessages:t=Ga.maxEnqueuedMessages}=this._options;this._messageQueue.length<t&&(this._debug("enqueue",e),this._messageQueue.push(e))}}_debug(...e){this._options.debug&&this._debugLogger("RWS>",...e)}_getNextDelay(){const{reconnectionDelayGrowFactor:e=Ga.reconnectionDelayGrowFactor,minReconnectionDelay:t=Ga.minReconnectionDelay,maxReconnectionDelay:n=Ga.maxReconnectionDelay}=this._options;let r=0;return this._retryCount>0&&(r=t*e**(this._retryCount-1),r>n&&(r=n)),this._debug("next delay",r),r}_wait(){return new Promise((e=>{setTimeout(e,this._getNextDelay())}))}_getNextProtocols(e){if(!e)return Promise.resolve(null);if("string"==typeof e||Array.isArray(e))return Promise.resolve(e);if("function"==typeof e){const t=e();if(!t)return Promise.resolve(null);if("string"==typeof t||Array.isArray(t))return Promise.resolve(t);if(t.then)return t}throw Error("Invalid protocols")}_getNextUrl(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){const t=e();if("string"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:e=Ga.maxRetries,connectionTimeout:t=Ga.connectionTimeout}=this._options;this._retryCount>=e?this._debug("max retries reached",this._retryCount,">=",e):(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then((()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)]))).then((([e,n])=>{if(this._closeCalled)return void(this._connectLock=!1);this._options.WebSocket||"undefined"!=typeof WebSocket||Va||(console.error("‼️ No WebSocket implementation available. You should define options.WebSocket. \n\nFor example, if you're using node.js, run `npm install ws`, and then in your code:\n\nimport PartySocket from 'partysocket';\nimport WS from 'ws';\n\nconst partysocket = new PartySocket({\n  host: \"127.0.0.1:1999\",\n  room: \"test-room\",\n  WebSocket: WS\n});\n\n"),Va=!0);const r=this._options.WebSocket||WebSocket;this._debug("connect",{url:e,protocols:n}),this._ws=n?new r(e,n):new r(e),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout((()=>this._handleTimeout()),t)})).catch((e=>{this._connectLock=!1,this._handleError(new qa(Error(e.message),this))})))}_handleTimeout(){this._debug("timeout event"),this._handleError(new qa(Error("TIMEOUT"),this))}_disconnect(e=1e3,t){if(this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(e,t),this._handleClose(new Ba(e,t,this))}catch(n){}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};
/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */
class Ya{constructor(){this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this.CLOSING=WebSocket.CLOSING,this.CLOSED=WebSocket.CLOSED,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.protocol="",this.url="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.retryCount=0,this.shouldReconnect=!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}dispatchEvent(e){return!1}reconnect(e,t){}send(e){}close(){}}const $a=new ht("sql-table-preview",(async(e,t)=>{await gt({requestId:e,...t})})),Xa=new ht("sql-table-list-preview",(async(e,t)=>{await mt({requestId:e,...t})})),{valueAtom:Ka,useActions:Qa}=je((()=>({banners:[]})),{addBanner:(e,t)=>({...e,banners:[...e.banners,{...t,id:yt()}]}),removeBanner:(e,t)=>({...e,banners:e.banners.filter((e=>e.id!==t))}),clearBanners:e=>({...e,banners:[]})}),Ja=()=>le(Ka);function Za(){return Qa()}function es(e){return"missing"===e.kind}function ts(e){return"installing"===e.kind}const{valueAtom:ns,useActions:rs}=je((()=>({packageAlert:null})),{addPackageAlert:(e,t)=>({...e,packageAlert:{id:yt(),...t}}),clearPackageAlert:(e,t)=>null!==e.packageAlert&&e.packageAlert.id===t?{...e,packageAlert:null}:e}),os=()=>le(ns);function as(){return rs()}function ss(e,t){const{autoInstantiate:n,setCells:o,setLayoutData:a,onError:s,setAppConfig:i,setCapabilities:l}=t,{codes:c,names:u,layout:d,configs:p,resumed:f,ui_values:h,cell_ids:m,last_executed_code:g,last_execution_time:y={},app_config:b,capabilities:v}=e,w=g||{},x=y||{},S=c.map(((e,t)=>{const n=m[t];let r=!1;const o=w[n];return o&&(r=o!==e),bt({id:n,code:e,edited:r,name:u[t],lastCodeRun:w[n]??null,lastExecutionTime:x[n]??null,config:p[t]})})),_={selectedLayout:"vertical",layoutData:{}};if(d){const e=d.type,t=function(e,t,n){const r=Yo.find((t=>t.type===e));if(void 0===r)throw new Error(`Unknown layout type: ${e}`);return r.deserializeLayout(t,n)}(e,d.data,S);_.selectedLayout=e,_.layoutData[e]=t,a({layoutView:e,data:t})}o(S,_);const j=vt.safeParse(b);if(j.success&&i(j.data),l(v),f){for(const[e,t]of O.entries(h||{}))r.set(e,t);return}const E=[],D=[];r.entries.forEach(((e,t)=>{E.push(t),D.push(e.value)})),wt({objectIds:E,values:D,autoRun:n}).catch((e=>{s(new Error("Failed to instantiate",{cause:e}))}))}const is=e=>{const t=new URL(window.location.href);t.searchParams.append(e.key,e.value),window.history.pushState({},"",`${t.pathname}${t.search}`)},ls=e=>{const t=new URL(window.location.href);Array.isArray(e.value)?(t.searchParams.delete(e.key),e.value.forEach((n=>t.searchParams.append(e.key,n)))):t.searchParams.set(e.key,e.value),window.history.pushState({},"",`${t.pathname}${t.search}`)},cs=e=>{const t=new URL(window.location.href);null==e.value?t.searchParams.delete(e.key):t.searchParams.delete(e.key,e.value),window.history.pushState({},"",`${t.pathname}${t.search}`)},us=()=>{const e=new URL(window.location.href);e.search="",window.history.pushState({},"",`${e.pathname}${e.search}`)};const{valueAtom:ds,useActions:ps}=je((function(){return{runIds:[],runMap:new Map}}),{addCellOperation:(e,t)=>{const{cellOperation:n,code:r}=t,o=n.run_id;if(!o)return e;const a=e.runMap.get(o);if(!a&&function(e){return e.startsWith("mo.md(")&&fs.test(e)}(r))return e;const s=n.output&&("marimo-error"===n.output.channel||"stderr"===n.output.channel);let i=s?"error":"queued"===n.status?"queued":"running"===n.status?"running":"success";if(!a){const t={runId:o,cellRuns:new Map([[n.cell_id,{cellId:n.cell_id,code:r.slice(0,200),elapsedTime:0,status:i,startTime:n.timestamp}]]),runStartTime:n.timestamp},a=[o,...e.runIds],s=new Map(e.runMap);if(a.length>50){const e=a.pop();e&&s.delete(e)}return s.set(o,t),{runIds:a,runMap:s}}const l=new Map(a.cellRuns),c=l.get(n.cell_id);if(c&&!s&&"queued"===n.status)return e;if(c){i="error"===c.status||s?"error":i;const e="running"===n.status?n.timestamp:c.startTime,t="success"===i||"error"===i?n.timestamp-c.startTime:void 0;l.set(n.cell_id,{...c,startTime:e,elapsedTime:t,status:i})}else l.set(n.cell_id,{cellId:n.cell_id,code:r.slice(0,200),elapsedTime:0,status:i,startTime:n.timestamp});const u=new Map(e.runMap);return u.set(o,{...a,cellRuns:l}),{...e,runMap:u}},clearRuns:e=>({...e,runIds:[],runMap:new Map}),removeRun:(e,t)=>{const n=e.runIds.filter((e=>e!==t)),r=new Map(e.runMap);return r.delete(t),{...e,runIds:n,runMap:r}}}),fs=/mo\.md\(\s*r?('''|""")/;const hs=new ht("secrets-result",(async(e,t)=>{await xt({requestId:e,...t})}));function ms(e){const t=f.c(25),n=p.useRef(!0),{autoInstantiate:a,sessionId:s,setCells:i}=e,{showBoundary:l}=St(),{handleCellMessage:c,setCellCodes:u,setCellIds:d}=A(),{addCellOperation:h}=ps(),m=_t(),{setVariables:g,setMetadata:y}=Ot(),{addColumnPreview:b}=jt(),{addDatasets:v,filterDatasetsFromVariables:w}=jt(),{addDataSourceConnection:x,filterDataSourcesFromVariables:S}=Et(),{setLayoutData:_}=Jo(),[O,j]=Xe(Dt),{addBanner:E}=Za(),{addPackageAlert:D}=as(),C=Ct(ue),k=Ct(kt);let N;t[0]!==E||t[1]!==h||t[2]!==b||t[3]!==x||t[4]!==v||t[5]!==D||t[6]!==a||t[7]!==S||t[8]!==w||t[9]!==c||t[10]!==m||t[11]!==k||t[12]!==u||t[13]!==d||t[14]!==i||t[15]!==C||t[16]!==_||t[17]!==y||t[18]!==g||t[19]!==l?(N=e=>{const t=Rt(e.data);switch(t.op){case"reload":return void ut();case"kernel-ready":return ss(t.data,{autoInstantiate:a,setCells:i,setLayoutData:_,setAppConfig:m,setCapabilities:k,onError:l}),void C(t.data.kiosk);case"completed-run":case"interrupted":case"reconnected":return;case"send-ui-element-message":return void r.broadcastMessage(t.data.ui_element,t.data.message,t.data.buffers);case"remove-ui-elements":return void function(e){const t=e.cell_id;r.removeElementsByCell(t),Co.INSTANCE.removeForCellId(t)}(t.data);case"completion-result":return void Lt.resolve(t.data.completion_id,t.data);case"function-call-result":return void Tt.resolve(t.data.function_call_id,t.data);case"cell-op":{!function(e,t){t(e),Co.INSTANCE.track(e)}(t.data,c);const e=W().cellData[t.data.cell_id];if(!e)return;return void h({cellOperation:t.data,code:e.code})}case"variables":return g(t.data.variables.map(ws)),w(t.data.variables.map(vs)),void S(t.data.variables.map(bs));case"variable-values":return void y(t.data.variables.map(ys));case"alert":return void dt({title:t.data.title,description:zt({html:t.data.description}),variant:t.data.variant});case"banner":return void E(t.data);case"missing-package-alert":return void D({...t.data,kind:"missing"});case"installing-package-alert":return void D({...t.data,kind:"installing"});case"query-params-append":return void is(t.data);case"query-params-set":return void ls(t.data);case"query-params-delete":return void cs(t.data);case"query-params-clear":return void us();case"datasets":return void v(t.data);case"data-column-preview":return void b(t.data);case"sql-table-preview":return void $a.resolve(t.data.request_id,t.data);case"sql-table-list-preview":return void Xa.resolve(t.data.request_id,t.data);case"secret-keys-result":return void hs.resolve(t.data.request_id,t.data);case"data-source-connections":return void x({connections:t.data.connections.map(gs)});case"focus-cell":return void Mt(t.data.cell_id);case"update-cell-codes":return void u({codes:t.data.codes,ids:t.data.cell_ids,codeIsStale:t.data.code_is_stale});case"update-cell-ids":return void d({cellIds:t.data.cell_ids});default:Pt(t)}},t[0]=E,t[1]=h,t[2]=b,t[3]=x,t[4]=v,t[5]=D,t[6]=a,t[7]=S,t[8]=w,t[9]=c,t[10]=m,t[11]=k,t[12]=u,t[13]=d,t[14]=i,t[15]=C,t[16]=_,t[17]=y,t[18]=g,t[19]=l,t[20]=N):N=t[20];const R=N,P=(e,t)=>{n.current&&(n.current=!1,z.reconnect(e,t))};let M;t[21]!==R?(M=e=>{try{R(e)}catch(t){const e=t;o.error("Failed to handle message",e),dt({title:"Failed to handle message",description:pt(e),variant:"danger"})}},t[21]=R,t[22]=M):M=t[22];const z=function(e){const{onOpen:t,onMessage:n,onClose:r,onError:a,...s}=e,[i]=p.useState((()=>{const o=me()?new ft(rt.INSTANCE):e.static?new Ya:new Ua(s.url,void 0,{maxRetries:10,debug:!1,startClosed:!0,connectionTimeout:1e4});return t&&o.addEventListener("open",t),r&&o.addEventListener("close",r),a&&o.addEventListener("error",a),n&&o.addEventListener("message",n),o}));return p.useEffect((()=>(i.readyState===WebSocket.CLOSED&&i.reconnect(),()=>{o.warn("useWebSocket is unmounting. This likely means there is a bug."),i.close(),t&&i.removeEventListener("open",t),r&&i.removeEventListener("close",r),a&&i.removeEventListener("error",a),n&&i.removeEventListener("message",n)})),[i]),i}({static:he(),url:Nt(s),onOpen:()=>{n.current=!0,j({state:Pe.OPEN})},onMessage:M,onClose:e=>{switch(o.warn("WebSocket closed",e.code,e.reason),e.reason){case"MARIMO_ALREADY_CONNECTED":return j({state:Pe.CLOSED,code:It.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel",canTakeover:!0}),void z.close();case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_NO_FILE_KEY":case"MARIMO_NO_SESSION_ID":case"MARIMO_NO_SESSION":case"MARIMO_SHUTDOWN":return j({state:Pe.CLOSED,code:It.KERNEL_DISCONNECTED,reason:"kernel not found"}),void z.close();case"MARIMO_MALFORMED_QUERY":return void j({state:Pe.CLOSED,code:It.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});default:j({state:Pe.CONNECTING}),P(e.code,e.reason)}},onError:e=>{o.warn("WebSocket error",e),j({state:Pe.CLOSED,code:It.KERNEL_DISCONNECTED,reason:"kernel not found"}),P()}});let T;return t[23]!==O?(T={connection:O},t[23]=O,t[24]=T):T=t[24],T}function gs(e){return{...e,name:e.name}}function ys(e){return{name:e.name,dataType:e.datatype,value:e.value}}function bs(e){return e.name}function vs(e){return e.name}function ws(e){return{name:e.name,declaredBy:e.declared_by,usedBy:e.used_by}}export{za as A,na as C,Bt as E,Ft as F,Vt as I,ea as L,Yt as M,mo as N,Lo as O,$t as P,en as R,hs as S,$r as T,Co as V,Ia as a,ps as b,Qo as c,Jo as d,lo as e,co as f,ko as g,Zo as h,xo as i,Ja as j,Za as k,Xo as l,os as m,as as n,es as o,ts as p,uo as q,ds as r,io as s,zo as t,ms as u,Ro as v,No as w,Xa as x,$a as y};
