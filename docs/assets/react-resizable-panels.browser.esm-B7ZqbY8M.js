import{s as ht}from"./chunk-LvLJmgfZ.js";import{t as zt}from"./react-BGmjiNul.js";var d=ht(zt()),ze=(0,d.createContext)(null);ze.displayName="PanelGroupContext";var A={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Ae=10,te=d.useLayoutEffect,Oe=d.useId,bt=typeof Oe=="function"?Oe:()=>null,vt=0;function ke(e=null){let t=bt(),n=(0,d.useRef)(e||t||null);return n.current===null&&(n.current=""+vt++),e??n.current}function Te({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:l,forwardedRef:a,id:i,maxSize:u,minSize:o,onCollapse:z,onExpand:g,onResize:f,order:c,style:b,tagName:w="div",...C}){let S=(0,d.useContext)(ze);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:k,expandPanel:D,getPanelSize:N,getPanelStyle:G,groupId:q,isPanelCollapsed:P,reevaluatePanelConstraints:x,registerPanel:F,resizePanel:U,unregisterPanel:W}=S,T=ke(i),L=(0,d.useRef)({callbacks:{onCollapse:z,onExpand:g,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:l,maxSize:u,minSize:o},id:T,idIsFromProps:i!==void 0,order:c});(0,d.useRef)({didLogMissingDefaultSizeWarning:!1}),te(()=>{let{callbacks:$,constraints:H}=L.current,B={...H};L.current.id=T,L.current.idIsFromProps=i!==void 0,L.current.order=c,$.onCollapse=z,$.onExpand=g,$.onResize=f,H.collapsedSize=n,H.collapsible=r,H.defaultSize=l,H.maxSize=u,H.minSize=o,(B.collapsedSize!==H.collapsedSize||B.collapsible!==H.collapsible||B.maxSize!==H.maxSize||B.minSize!==H.minSize)&&x(L.current,B)}),te(()=>{let $=L.current;return F($),()=>{W($)}},[c,T,F,W]),(0,d.useImperativeHandle)(a,()=>({collapse:()=>{k(L.current)},expand:$=>{D(L.current,$)},getId(){return T},getSize(){return N(L.current)},isCollapsed(){return P(L.current)},isExpanded(){return!P(L.current)},resize:$=>{U(L.current,$)}}),[k,D,N,P,T,U]);let J=G(L.current,l);return(0,d.createElement)(w,{...C,children:e,className:t,id:T,style:{...J,...b},[A.groupId]:q,[A.panel]:"",[A.panelCollapsible]:r||void 0,[A.panelId]:T,[A.panelSize]:parseFloat(""+J.flexGrow).toFixed(1)})}var je=(0,d.forwardRef)((e,t)=>(0,d.createElement)(Te,{...e,forwardedRef:t}));Te.displayName="Panel",je.displayName="forwardRef(Panel)";var xt;function St(){return xt}var De=null,wt=!0,be=-1,X=null;function It(e,t){if(t){let n=(t&Ye)!==0,r=(t&_e)!==0,l=(t&Qe)!==0,a=(t&Ze)!==0;if(n)return l?"se-resize":a?"ne-resize":"e-resize";if(r)return l?"sw-resize":a?"nw-resize":"w-resize";if(l)return"s-resize";if(a)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ct(){X!==null&&(document.head.removeChild(X),De=null,X=null,be=-1)}function Re(e,t){var l;if(!wt)return;let n=It(e,t);if(De!==n){if(De=n,X===null){X=document.createElement("style");let a=St();a&&X.setAttribute("nonce",a),document.head.appendChild(X)}if(be>=0){var r;(r=X.sheet)==null||r.removeRule(be)}be=((l=X.sheet)==null?void 0:l.insertRule(`*{cursor: ${n} !important;}`))??-1}}function Ve(e){return e.type==="keydown"}function Ue(e){return e.type.startsWith("pointer")}function We(e){return e.type.startsWith("mouse")}function ve(e){if(Ue(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(We(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Pt(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Et(e,t,n){return n?e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y:e.x<=t.x+t.width&&e.x+e.width>=t.x&&e.y<=t.y+t.height&&e.y+e.height>=t.y}function At(e,t){if(e===t)throw Error("Cannot compare node with itself");let n={a:Ke(e),b:Ke(t)},r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;v(r,"Stacking order can only be calculated for elements with a common ancestor");let l={a:qe(Je(n.a)),b:qe(Je(n.b))};if(l.a===l.b){let a=r.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)},u=a.length;for(;u--;){let o=a[u];if(o===i.a)return 1;if(o===i.b)return-1}}return Math.sign(l.a-l.b)}var kt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Dt(e){let t=getComputedStyle(Xe(e)??e).display;return t==="flex"||t==="inline-flex"}function Rt(e){let t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Dt(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||kt.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Je(e){let t=e.length;for(;t--;){let n=e[t];if(v(n,"Missing node"),Rt(n))return n}return null}function qe(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ke(e){let t=[];for(;e;)t.push(e),e=Xe(e);return t}function Xe(e){let{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}var Ye=1,_e=2,Qe=4,Ze=8,Lt=Pt()==="coarse",V=[],ie=!1,ne=new Map,xe=new Map,fe=new Set;function Mt(e,t,n,r,l){let{ownerDocument:a}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:l},u=ne.get(a)??0;return ne.set(a,u+1),fe.add(i),Se(),function(){xe.delete(e),fe.delete(i);let o=ne.get(a)??1;if(ne.set(a,o-1),Se(),o===1&&ne.delete(a),V.includes(i)){let z=V.indexOf(i);z>=0&&V.splice(z,1),He(),l("up",!0,null)}}}function Nt(e){let{target:t}=e,{x:n,y:r}=ve(e);ie=!0,Ne({target:t,x:n,y:r}),Se(),V.length>0&&(we("down",e),e.preventDefault(),et(t)||e.stopImmediatePropagation())}function Le(e){let{x:t,y:n}=ve(e);if(ie&&e.buttons===0&&(ie=!1,we("up",e)),!ie){let{target:r}=e;Ne({target:r,x:t,y:n})}we("move",e),He(),V.length>0&&e.preventDefault()}function Me(e){let{target:t}=e,{x:n,y:r}=ve(e);xe.clear(),ie=!1,V.length>0&&(e.preventDefault(),et(t)||e.stopImmediatePropagation()),we("up",e),Ne({target:t,x:n,y:r}),He(),Se()}function et(e){let t=e;for(;t;){if(t.hasAttribute(A.resizeHandle))return!0;t=t.parentElement}return!1}function Ne({target:e,x:t,y:n}){V.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),fe.forEach(l=>{let{element:a,hitAreaMargins:i}=l,u=a.getBoundingClientRect(),{bottom:o,left:z,right:g,top:f}=u,c=Lt?i.coarse:i.fine;if(t>=z-c&&t<=g+c&&n>=f-c&&n<=o+c){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&At(r,a)>0){let b=r,w=!1;for(;b&&!b.contains(a);){if(Et(b.getBoundingClientRect(),u,!0)){w=!0;break}b=b.parentElement}if(w)return}V.push(l)}})}function $e(e,t){xe.set(e,t)}function He(){let e=!1,t=!1;V.forEach(r=>{let{direction:l}=r;l==="horizontal"?e=!0:t=!0});let n=0;xe.forEach(r=>{n|=r}),e&&t?Re("intersection",n):e?Re("horizontal",n):t?Re("vertical",n):Ct()}var Fe=new AbortController;function Se(){Fe.abort(),Fe=new AbortController;let e={capture:!0,signal:Fe.signal};fe.size&&(ie?(V.length>0&&ne.forEach((t,n)=>{let{body:r}=n;t>0&&(r.addEventListener("contextmenu",Me,e),r.addEventListener("pointerleave",Le,e),r.addEventListener("pointermove",Le,e))}),window.addEventListener("pointerup",Me,e),window.addEventListener("pointercancel",Me,e)):ne.forEach((t,n)=>{let{body:r}=n;t>0&&(r.addEventListener("pointerdown",Nt,e),r.addEventListener("pointermove",Le,e))}))}function we(e,t){fe.forEach(n=>{let{setResizeHandlerState:r}=n;r(e,V.includes(n),t)})}function $t(){let[e,t]=(0,d.useState)(0);return(0,d.useCallback)(()=>t(n=>n+1),[])}function v(e,t){if(!e)throw console.error(t),Error(t)}function re(e,t,n=Ae){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Y(e,t,n=Ae){return re(e,t,n)===0}function O(e,t,n){return re(e,t,n)===0}function Ht(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let l=e[r],a=t[r];if(!O(l,a,n))return!1}return!0}function oe({panelConstraints:e,panelIndex:t,size:n}){let r=e[t];v(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:l=0,collapsible:a,maxSize:i=100,minSize:u=0}=r;if(re(n,u)<0)if(a){let o=(l+u)/2;n=re(n,o)<0?l:u}else n=u;return n=Math.min(i,n),n=parseFloat(n.toFixed(Ae)),n}function pe({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:l,trigger:a}){if(O(e,0))return t;let i=[...t],[u,o]=r;v(u!=null,"Invalid first pivot index"),v(o!=null,"Invalid second pivot index");let z=0;if(a==="keyboard"){{let g=e<0?o:u,f=n[g];v(f,`Panel constraints not found for index ${g}`);let{collapsedSize:c=0,collapsible:b,minSize:w=0}=f;if(b){let C=t[g];if(v(C!=null,`Previous layout not found for panel index ${g}`),O(C,c)){let S=w-C;re(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{let g=e<0?u:o,f=n[g];v(f,`No panel constraints found for index ${g}`);let{collapsedSize:c=0,collapsible:b,minSize:w=0}=f;if(b){let C=t[g];if(v(C!=null,`Previous layout not found for panel index ${g}`),O(C,w)){let S=C-c;re(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{let g=e<0?1:-1,f=e<0?o:u,c=0;for(;;){let w=t[f];v(w!=null,`Previous layout not found for panel index ${f}`);let C=oe({panelConstraints:n,panelIndex:f,size:100})-w;if(c+=C,f+=g,f<0||f>=n.length)break}let b=Math.min(Math.abs(e),Math.abs(c));e=e<0?0-b:b}{let g=e<0?u:o;for(;g>=0&&g<n.length;){let f=Math.abs(e)-Math.abs(z),c=t[g];v(c!=null,`Previous layout not found for panel index ${g}`);let b=c-f,w=oe({panelConstraints:n,panelIndex:g,size:b});if(!O(c,w)&&(z+=c-w,i[g]=w,z.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(Ht(l,i))return l;{let g=e<0?o:u,f=t[g];v(f!=null,`Previous layout not found for panel index ${g}`);let c=f+z,b=oe({panelConstraints:n,panelIndex:g,size:c});if(i[g]=b,!O(b,c)){let w=c-b,C=e<0?o:u;for(;C>=0&&C<n.length;){let S=i[C];v(S!=null,`Previous layout not found for panel index ${C}`);let k=S+w,D=oe({panelConstraints:n,panelIndex:C,size:k});if(O(S,D)||(w-=D-S,i[C]=D),O(w,0))break;e>0?C--:C++}}}return O(i.reduce((g,f)=>f+g,0),100)?i:l}function Ft({layout:e,panelsArray:t,pivotIndices:n}){let r=0,l=100,a=0,i=0,u=n[0];return v(u!=null,"No pivot index found"),t.forEach((o,z)=>{let{constraints:g}=o,{maxSize:f=100,minSize:c=0}=g;z===u?(r=c,l=f):(a+=c,i+=f)}),{valueMax:Math.min(l,100-a),valueMin:Math.max(r,100-i),valueNow:e[u]}}function ge(e,t=document){return Array.from(t.querySelectorAll(`[${A.resizeHandleId}][data-panel-group-id="${e}"]`))}function tt(e,t,n=document){return ge(e,n).findIndex(r=>r.getAttribute(A.resizeHandleId)===t)??null}function nt(e,t,n){let r=tt(e,t,n);return r==null?[-1,-1]:[r,r+1]}function rt(e,t=document){var n;return t instanceof HTMLElement&&((n=t==null?void 0:t.dataset)==null?void 0:n.panelGroupId)==e?t:t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`)||null}function Ie(e,t=document){return t.querySelector(`[${A.resizeHandleId}="${e}"]`)||null}function Bt(e,t,n,r=document){var u,o;let l=Ie(t,r),a=ge(e,r),i=l?a.indexOf(l):-1;return[((u=n[i])==null?void 0:u.id)??null,((o=n[i+1])==null?void 0:o.id)??null]}function Gt({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:l,panelGroupElement:a,setLayout:i}){(0,d.useRef)({didWarnAboutMissingResizeHandle:!1}),te(()=>{if(!a)return;let u=ge(n,a);for(let o=0;o<l.length-1;o++){let{valueMax:z,valueMin:g,valueNow:f}=Ft({layout:r,panelsArray:l,pivotIndices:[o,o+1]}),c=u[o];if(c!=null){let b=l[o];v(b,`No panel data found for index "${o}"`),c.setAttribute("aria-controls",b.id),c.setAttribute("aria-valuemax",""+Math.round(z)),c.setAttribute("aria-valuemin",""+Math.round(g)),c.setAttribute("aria-valuenow",f==null?"":""+Math.round(f))}}return()=>{u.forEach((o,z)=>{o.removeAttribute("aria-controls"),o.removeAttribute("aria-valuemax"),o.removeAttribute("aria-valuemin"),o.removeAttribute("aria-valuenow")})}},[n,r,l,a]),(0,d.useEffect)(()=>{if(!a)return;let u=t.current;v(u,"Eager values not found");let{panelDataArray:o}=u;v(rt(n,a)!=null,`No group found for id "${n}"`);let z=ge(n,a);v(z,`No resize handles found for group id "${n}"`);let g=z.map(f=>{let c=f.getAttribute(A.resizeHandleId);v(c,"Resize handle element has no handle id attribute");let[b,w]=Bt(n,c,o,a);if(b==null||w==null)return()=>{};let C=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();let k=o.findIndex(D=>D.id===b);if(k>=0){let D=o[k];v(D,`No panel data found for index ${k}`);let N=r[k],{collapsedSize:G=0,collapsible:q,minSize:P=0}=D.constraints;if(N!=null&&q){let x=pe({delta:O(N,G)?P-G:G-N,initialLayout:r,panelConstraints:o.map(F=>F.constraints),pivotIndices:nt(n,c,a),prevLayout:r,trigger:"keyboard"});r!==x&&i(x)}}break}}};return f.addEventListener("keydown",C),()=>{f.removeEventListener("keydown",C)}});return()=>{g.forEach(f=>f())}},[a,e,t,n,r,l,i])}function at(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lt(e,t){let n=e==="horizontal",{x:r,y:l}=ve(t);return n?r:l}function Ot(e,t,n,r,l){let a=n==="horizontal",i=Ie(t,l);v(i,`No resize handle element found for id "${t}"`);let u=i.getAttribute(A.groupId);v(u,"Resize handle element has no group id attribute");let{initialCursorPosition:o}=r,z=lt(n,e),g=rt(u,l);v(g,`No group element found for id "${u}"`);let f=g.getBoundingClientRect(),c=a?f.width:f.height;return(z-o)/c*100}function Tt(e,t,n,r,l,a){if(Ve(e)){let i=n==="horizontal",u=0;u=e.shiftKey?100:l??10;let o=0;switch(e.key){case"ArrowDown":o=i?0:u;break;case"ArrowLeft":o=i?-u:0;break;case"ArrowRight":o=i?u:0;break;case"ArrowUp":o=i?0:-u;break;case"End":o=100;break;case"Home":o=-100;break}return o}else return r==null?0:Ot(e,t,n,r,a)}function jt({panelDataArray:e}){let t=Array(e.length),n=e.map(a=>a.constraints),r=0,l=100;for(let a=0;a<e.length;a++){let i=n[a];v(i,`Panel constraints not found for index ${a}`);let{defaultSize:u}=i;u!=null&&(r++,t[a]=u,l-=u)}for(let a=0;a<e.length;a++){let i=n[a];v(i,`Panel constraints not found for index ${a}`);let{defaultSize:u}=i;if(u!=null)continue;let o=e.length-r,z=l/o;r++,t[a]=z,l-=z}return t}function ue(e,t,n){t.forEach((r,l)=>{let a=e[l];v(a,`Panel data not found for index ${l}`);let{callbacks:i,constraints:u,id:o}=a,{collapsedSize:z=0,collapsible:g}=u,f=n[o];if(f==null||r!==f){n[o]=r;let{onCollapse:c,onExpand:b,onResize:w}=i;w&&w(r,f),g&&(c||b)&&(b&&(f==null||Y(f,z))&&!Y(r,z)&&b(),c&&(f==null||!Y(f,z))&&Y(r,z)&&c())}})}function Ce(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Vt({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:l,precision:a=3}){let i=n[l],u;return u=i==null?e==null?"1":e.toPrecision(a):r.length===1?"1":i.toPrecision(a),{flexBasis:0,flexGrow:u,flexShrink:1,overflow:"hidden",pointerEvents:t===null?void 0:"none"}}function Ut(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function it(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function ot(e){return`react-resizable-panels:${e}`}function ut(e){return e.map(t=>{let{constraints:n,id:r,idIsFromProps:l,order:a}=t;return l?r:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function st(e,t){try{let n=ot(e),r=t.getItem(n);if(r){let l=JSON.parse(r);if(typeof l=="object"&&l)return l}}catch{}return null}function Wt(e,t,n){return(st(e,n)??{})[ut(t)]??null}function Jt(e,t,n,r,l){let a=ot(e),i=ut(t),u=st(e,l)??{};u[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{l.setItem(a,JSON.stringify(u))}catch(o){console.error(o)}}function dt({layout:e,panelConstraints:t}){let n=[...e],r=n.reduce((a,i)=>a+i,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!O(r,100)&&n.length>0)for(let a=0;a<t.length;a++){let i=n[a];v(i!=null,`No layout data found for index ${a}`),n[a]=100/r*i}let l=0;for(let a=0;a<t.length;a++){let i=n[a];v(i!=null,`No layout data found for index ${a}`);let u=oe({panelConstraints:t,panelIndex:a,size:i});i!=u&&(l+=i-u,n[a]=u)}if(!O(l,0))for(let a=0;a<t.length;a++){let i=n[a];v(i!=null,`No layout data found for index ${a}`);let u=i+l,o=oe({panelConstraints:t,panelIndex:a,size:u});if(i!==o&&(l-=o-i,n[a]=o,O(l,0)))break}return n}var qt=100,ye={getItem:e=>(it(ye),ye.getItem(e)),setItem:(e,t)=>{it(ye),ye.setItem(e,t)}},ct={};function ft({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:l,id:a=null,onLayout:i=null,keyboardResizeBy:u=null,storage:o=ye,style:z,tagName:g="div",...f}){let c=ke(a),b=(0,d.useRef)(null),[w,C]=(0,d.useState)(null),[S,k]=(0,d.useState)([]),D=$t(),N=(0,d.useRef)({}),G=(0,d.useRef)(new Map),q=(0,d.useRef)(0),P=(0,d.useRef)({autoSaveId:e,direction:r,dragState:w,id:c,keyboardResizeBy:u,onLayout:i,storage:o}),x=(0,d.useRef)({layout:S,panelDataArray:[],panelDataArrayChanged:!1});(0,d.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,d.useImperativeHandle)(l,()=>({getId:()=>P.current.id,getLayout:()=>{let{layout:s}=x.current;return s},setLayout:s=>{let{onLayout:p}=P.current,{layout:y,panelDataArray:m}=x.current,h=dt({layout:s,panelConstraints:m.map(I=>I.constraints)});at(y,h)||(k(h),x.current.layout=h,p&&p(h),ue(m,h,N.current))}}),[]),te(()=>{P.current.autoSaveId=e,P.current.direction=r,P.current.dragState=w,P.current.id=c,P.current.onLayout=i,P.current.storage=o}),Gt({committedValuesRef:P,eagerValuesRef:x,groupId:c,layout:S,panelDataArray:x.current.panelDataArray,setLayout:k,panelGroupElement:b.current}),(0,d.useEffect)(()=>{let{panelDataArray:s}=x.current;if(e){if(S.length===0||S.length!==s.length)return;let p=ct[e];p??(p=Ut(Jt,qt),ct[e]=p);let y=[...s],m=new Map(G.current);p(e,y,m,S,o)}},[e,S,o]),(0,d.useEffect)(()=>{});let F=(0,d.useCallback)(s=>{let{onLayout:p}=P.current,{layout:y,panelDataArray:m}=x.current;if(s.constraints.collapsible){let h=m.map(R=>R.constraints),{collapsedSize:I=0,panelSize:E,pivotIndices:M}=ae(m,s,y);if(v(E!=null,`Panel size not found for panel "${s.id}"`),!Y(E,I)){G.current.set(s.id,E);let R=pe({delta:se(m,s)===m.length-1?E-I:I-E,initialLayout:y,panelConstraints:h,pivotIndices:M,prevLayout:y,trigger:"imperative-api"});Ce(y,R)||(k(R),x.current.layout=R,p&&p(R),ue(m,R,N.current))}}},[]),U=(0,d.useCallback)((s,p)=>{let{onLayout:y}=P.current,{layout:m,panelDataArray:h}=x.current;if(s.constraints.collapsible){let I=h.map(_=>_.constraints),{collapsedSize:E=0,panelSize:M=0,minSize:R=0,pivotIndices:K}=ae(h,s,m),j=p??R;if(Y(M,E)){let _=G.current.get(s.id),he=_!=null&&_>=j?_:j,ee=pe({delta:se(h,s)===h.length-1?M-he:he-M,initialLayout:m,panelConstraints:I,pivotIndices:K,prevLayout:m,trigger:"imperative-api"});Ce(m,ee)||(k(ee),x.current.layout=ee,y&&y(ee),ue(h,ee,N.current))}}},[]),W=(0,d.useCallback)(s=>{let{layout:p,panelDataArray:y}=x.current,{panelSize:m}=ae(y,s,p);return v(m!=null,`Panel size not found for panel "${s.id}"`),m},[]),T=(0,d.useCallback)((s,p)=>{let{panelDataArray:y}=x.current;return Vt({defaultSize:p,dragState:w,layout:S,panelData:y,panelIndex:se(y,s)})},[w,S]),L=(0,d.useCallback)(s=>{let{layout:p,panelDataArray:y}=x.current,{collapsedSize:m=0,collapsible:h,panelSize:I}=ae(y,s,p);return v(I!=null,`Panel size not found for panel "${s.id}"`),h===!0&&Y(I,m)},[]),J=(0,d.useCallback)(s=>{let{layout:p,panelDataArray:y}=x.current,{collapsedSize:m=0,collapsible:h,panelSize:I}=ae(y,s,p);return v(I!=null,`Panel size not found for panel "${s.id}"`),!h||re(I,m)>0},[]),$=(0,d.useCallback)(s=>{let{panelDataArray:p}=x.current;p.push(s),p.sort((y,m)=>{let h=y.order,I=m.order;return h==null&&I==null?0:h==null?-1:I==null?1:h-I}),x.current.panelDataArrayChanged=!0,D()},[D]);te(()=>{if(x.current.panelDataArrayChanged){x.current.panelDataArrayChanged=!1;let{autoSaveId:s,onLayout:p,storage:y}=P.current,{layout:m,panelDataArray:h}=x.current,I=null;if(s){let M=Wt(s,h,y);M&&(G.current=new Map(Object.entries(M.expandToSizes)),I=M.layout)}I??(I=jt({panelDataArray:h}));let E=dt({layout:I,panelConstraints:h.map(M=>M.constraints)});at(m,E)||(k(E),x.current.layout=E,p&&p(E),ue(h,E,N.current))}}),te(()=>{let s=x.current;return()=>{s.layout=[]}},[]);let H=(0,d.useCallback)(s=>{let p=!1,y=b.current;return y&&window.getComputedStyle(y,null).getPropertyValue("direction")==="rtl"&&(p=!0),function(m){m.preventDefault();let h=b.current;if(!h)return()=>null;let{direction:I,dragState:E,id:M,keyboardResizeBy:R,onLayout:K}=P.current,{layout:j,panelDataArray:_}=x.current,{initialLayout:he}=E??{},ee=nt(M,s,h),Q=Tt(m,s,I,E,R,h),Be=I==="horizontal";Be&&p&&(Q=-Q);let yt=_.map(mt=>mt.constraints),ce=pe({delta:Q,initialLayout:he??j,panelConstraints:yt,pivotIndices:ee,prevLayout:j,trigger:Ve(m)?"keyboard":"mouse-or-touch"}),Ge=!Ce(j,ce);(Ue(m)||We(m))&&q.current!=Q&&(q.current=Q,!Ge&&Q!==0?Be?$e(s,Q<0?Ye:_e):$e(s,Q<0?Qe:Ze):$e(s,0)),Ge&&(k(ce),x.current.layout=ce,K&&K(ce),ue(_,ce,N.current))}},[]),B=(0,d.useCallback)((s,p)=>{let{onLayout:y}=P.current,{layout:m,panelDataArray:h}=x.current,I=h.map(K=>K.constraints),{panelSize:E,pivotIndices:M}=ae(h,s,m);v(E!=null,`Panel size not found for panel "${s.id}"`);let R=pe({delta:se(h,s)===h.length-1?E-p:p-E,initialLayout:m,panelConstraints:I,pivotIndices:M,prevLayout:m,trigger:"imperative-api"});Ce(m,R)||(k(R),x.current.layout=R,y&&y(R),ue(h,R,N.current))},[]),de=(0,d.useCallback)((s,p)=>{let{layout:y,panelDataArray:m}=x.current,{collapsedSize:h=0,collapsible:I}=p,{collapsedSize:E=0,collapsible:M,maxSize:R=100,minSize:K=0}=s.constraints,{panelSize:j}=ae(m,s,y);j!=null&&(I&&M&&Y(j,h)?Y(h,E)||B(s,E):j<K?B(s,K):j>R&&B(s,R))},[B]),me=(0,d.useCallback)((s,p)=>{let{direction:y}=P.current,{layout:m}=x.current;if(!b.current)return;let h=Ie(s,b.current);v(h,`Drag handle element not found for id "${s}"`);let I=lt(y,p);C({dragHandleId:s,dragHandleRect:h.getBoundingClientRect(),initialCursorPosition:I,initialLayout:m})},[]),Z=(0,d.useCallback)(()=>{C(null)},[]),le=(0,d.useCallback)(s=>{let{panelDataArray:p}=x.current,y=se(p,s);y>=0&&(p.splice(y,1),delete N.current[s.id],x.current.panelDataArrayChanged=!0,D())},[D]),Pe=(0,d.useMemo)(()=>({collapsePanel:F,direction:r,dragState:w,expandPanel:U,getPanelSize:W,getPanelStyle:T,groupId:c,isPanelCollapsed:L,isPanelExpanded:J,reevaluatePanelConstraints:de,registerPanel:$,registerResizeHandle:H,resizePanel:B,startDragging:me,stopDragging:Z,unregisterPanel:le,panelGroupElement:b.current}),[F,w,r,U,W,T,c,L,J,de,$,H,B,me,Z,le]),Ee={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return(0,d.createElement)(ze.Provider,{value:Pe},(0,d.createElement)(g,{...f,children:t,className:n,id:a,ref:b,style:{...Ee,...z},[A.group]:"",[A.groupDirection]:r,[A.groupId]:c}))}var pt=(0,d.forwardRef)((e,t)=>(0,d.createElement)(ft,{...e,forwardedRef:t}));ft.displayName="PanelGroup",pt.displayName="forwardRef(PanelGroup)";function se(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function ae(e,t,n){let r=se(e,t),l=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:l}}function Kt({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){(0,d.useEffect)(()=>{if(e||n==null||r==null)return;let l=Ie(t,r);if(l==null)return;let a=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":i.preventDefault(),n(i);break;case"F6":{i.preventDefault();let u=l.getAttribute(A.groupId);v(u,`No group element found for id "${u}"`);let o=ge(u,r),z=tt(u,t,r);v(z!==null,`No resize element found for id "${t}"`),o[i.shiftKey?z>0?z-1:o.length-1:z+1<o.length?z+1:0].focus();break}}};return l.addEventListener("keydown",a),()=>{l.removeEventListener("keydown",a)}},[r,e,t,n])}function gt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:l,onBlur:a,onClick:i,onDragging:u,onFocus:o,onPointerDown:z,onPointerUp:g,style:f={},tabIndex:c=0,tagName:b="div",...w}){let C=(0,d.useRef)(null),S=(0,d.useRef)({onClick:i,onDragging:u,onPointerDown:z,onPointerUp:g});(0,d.useEffect)(()=>{S.current.onClick=i,S.current.onDragging=u,S.current.onPointerDown=z,S.current.onPointerUp=g});let k=(0,d.useContext)(ze);if(k===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:D,groupId:N,registerResizeHandle:G,startDragging:q,stopDragging:P,panelGroupElement:x}=k,F=ke(l),[U,W]=(0,d.useState)("inactive"),[T,L]=(0,d.useState)(!1),[J,$]=(0,d.useState)(null),H=(0,d.useRef)({state:U});te(()=>{H.current.state=U}),(0,d.useEffect)(()=>{if(n)$(null);else{let Z=G(F);$(()=>Z)}},[n,F,G]);let B=(r==null?void 0:r.coarse)??15,de=(r==null?void 0:r.fine)??5;(0,d.useEffect)(()=>{if(n||J==null)return;let Z=C.current;v(Z,"Element ref not attached");let le=!1;return Mt(F,Z,D,{coarse:B,fine:de},(Pe,Ee,s)=>{if(!Ee){W("inactive");return}switch(Pe){case"down":{W("drag"),le=!1,v(s,'Expected event to be defined for "down" action'),q(F,s);let{onDragging:p,onPointerDown:y}=S.current;p==null||p(!0),y==null||y();break}case"move":{let{state:p}=H.current;le=!0,p!=="drag"&&W("hover"),v(s,'Expected event to be defined for "move" action'),J(s);break}case"up":{W("hover"),P();let{onClick:p,onDragging:y,onPointerUp:m}=S.current;y==null||y(!1),m==null||m(),le||(p==null||p());break}}})},[B,D,n,de,G,F,J,q,P]),Kt({disabled:n,handleId:F,resizeHandler:J,panelGroupElement:x});let me={touchAction:"none",userSelect:"none"};return(0,d.createElement)(b,{...w,children:e,className:t,id:l,onBlur:()=>{L(!1),a==null||a()},onFocus:()=>{L(!0),o==null||o()},ref:C,role:"separator",style:{...me,...f},tabIndex:c,[A.groupDirection]:D,[A.groupId]:N,[A.resizeHandle]:"",[A.resizeHandleActive]:U==="drag"?"pointer":T?"keyboard":void 0,[A.resizeHandleEnabled]:!n,[A.resizeHandleId]:F,[A.resizeHandleState]:U})}gt.displayName="PanelResizeHandle";export{pt as n,gt as r,je as t};
