import{s as x}from"./chunk-LvLJmgfZ.js";import"./useEvent-DlWF5OMa.js";import{t as g}from"./react-BGmjiNul.js";import{A as h,Un as f,W as j,w as u}from"./cells-CmJW_FeD.js";import"./react-dom-C9fstfnp.js";import{t as y}from"./compiler-runtime-DeeZ7FnK.js";import"./config-CENq_7Pd.js";import{t as v}from"./jsx-runtime-DN_bIXfG.js";import{t as m}from"./cn-C1rgT0yh.js";import"./dist-CAcX026F.js";import"./cjs-Bj40p_Np.js";import"./main-CwSdzVhm.js";import"./useNonce-EAuSVK-5.js";import"./dist-HGZzCB0y.js";import"./dist-CVj-_Iiz.js";import"./dist-BVf1IY4_.js";import"./dist-Cq_4nPfh.js";import"./dist-RKnr9SNh.js";import"./Combination-D1TsGrBC.js";import{t as N}from"./cell-link-D7bPw7Fz.js";import{t as b}from"./empty-state-H6r25Wek.js";import{t as w}from"./clear-button-B9htnn2a.js";var n=y();g();var s=x(v(),1),_=()=>{let r=(0,n.c)(9),e=h(),{clearLogs:i}=u();if(e.length===0){let o;r[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)("code",{className:"border rounded px-1",children:"stdout"}),r[0]=o):o=r[0];let l;return r[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(b,{title:"No logs",description:(0,s.jsxs)("span",{children:[o," and"," ",(0,s.jsx)("code",{className:"border rounded px-1",children:"stderr"})," logs will appear here."]}),icon:(0,s.jsx)(f,{})}),r[1]=l):l=r[1],l}let a;r[2]===i?a=r[3]:(a=(0,s.jsx)("div",{className:"flex flex-row justify-start px-2 py-1",children:(0,s.jsx)(w,{dataTestId:"clear-logs-button",onClick:i})}),r[2]=i,r[3]=a);let t;r[4]===e?t=r[5]:(t=(0,s.jsx)("div",{className:"overflow-auto flex-1",children:(0,s.jsx)(d,{logs:e,className:"min-w-[300px]"})}),r[4]=e,r[5]=t);let c;return r[6]!==a||r[7]!==t?(c=(0,s.jsxs)(s.Fragment,{children:[a,t]}),r[6]=a,r[7]=t,r[8]=c):c=r[8],c};const d=r=>{let e=(0,n.c)(10),{logs:i,className:a}=r,t;e[0]===a?t=e[1]:(t=m("flex flex-col",a),e[0]=a,e[1]=t);let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c={whiteSpace:"pre-wrap"},e[2]=c):c=e[2];let o;e[3]===i?o=e[4]:(o=i.map(I),e[3]=i,e[4]=o);let l;e[5]===o?l=e[6]:(l=(0,s.jsx)("pre",{className:"grid text-xs font-mono gap-1 whitespace-break-spaces font-semibold align-left",children:(0,s.jsx)("div",{className:"grid grid-cols-[30px_1fr]",style:c,children:o})}),e[5]=o,e[6]=l);let p;return e[7]!==t||e[8]!==l?(p=(0,s.jsx)("div",{className:t,children:l}),e[7]=t,e[8]=l,e[9]=p):p=e[9],p};function k(r){let e=j(r.timestamp),i=S[r.level],a=r.level.toUpperCase();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"shrink-0 text-(--gray-10) dark:text-(--gray-11)",children:["[",e,"]"]}),(0,s.jsx)("span",{className:m("shrink-0",i),children:a}),(0,s.jsxs)("span",{className:"shrink-0 text-(--gray-10)",children:["(",(0,s.jsx)(N,{cellId:r.cellId}),")"]}),r.message]})}var S={stdout:"text-(--grass-9)",stderr:"text-(--red-9)"};function I(r,e){return(0,s.jsxs)("div",{className:"contents group",children:[(0,s.jsx)("span",{className:m("opacity-70 group-hover:bg-(--gray-3) group-hover:opacity-100","text-right col-span-1 py-1 pr-1"),children:e+1}),(0,s.jsx)("span",{className:m("opacity-70 group-hover:bg-(--gray-3) group-hover:opacity-100","px-2 flex gap-x-1.5 py-1 flex-wrap"),children:k(r)})]},e)}export{d as LogViewer,_ as default};
