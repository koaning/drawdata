import{C as S,S as X,T as x,b as M,c as v,l as I,n as Y,u as Z,x as tt}from"./_Uint8Array-BGESiCQL.js";import{n as et}from"./toString-DlRqgfqz.js";import{t as C}from"./_getTag-BWqNuuwU.js";import{_ as rt,a as U,c as E,f as m,g as j,i as st,n as nt,o as it,p as ot,r as at,s as ut,u as ht}from"./merge-BBX6ug-N.js";import{t as ct}from"./_baseUniq-CsutM-S0.js";import{a as dt,n as y,r as l,t as lt}from"./reduce-NgiHP_CR.js";import{a as _t,c as pt,d as h,o as ft,s as B,u as bt}from"./_baseIsEqual-Cz9Tt_-E.js";import{t as gt}from"./_baseFlatten-CLPh0yMf.js";import{t as k}from"./isEmpty-DIxUV1UR.js";function vt(t,e){return t&&m(e,h(e),t)}var mt=vt;function jt(t,e){return t&&m(e,E(e),t)}var yt=jt;function wt(t,e){return m(t,B(t),e)}var Ot=wt,G=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)bt(e,B(t)),t=ut(t);return e}:pt;function Ct(t,e){return m(t,G(t),e)}var Et=Ct;function At(t){return ft(t,E,G)}var Nt=At,Dt=Object.prototype.hasOwnProperty;function Lt(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Dt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Pt=Lt;function Ft(t,e){var r=e?U(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var St=Ft,xt=/\w*$/;function Mt(t){var e=new t.constructor(t.source,xt.exec(t));return e.lastIndex=t.lastIndex,e}var It=Mt,R=x?x.prototype:void 0,T=R?R.valueOf:void 0;function Ut(t){return T?Object(T.call(t)):{}}var Bt=Ut,kt="[object Boolean]",Gt="[object Date]",Rt="[object Map]",Tt="[object Number]",Vt="[object RegExp]",zt="[object Set]",Wt="[object String]",$t="[object Symbol]",qt="[object ArrayBuffer]",Ht="[object DataView]",Jt="[object Float32Array]",Kt="[object Float64Array]",Qt="[object Int8Array]",Xt="[object Int16Array]",Yt="[object Int32Array]",Zt="[object Uint8Array]",te="[object Uint8ClampedArray]",ee="[object Uint16Array]",re="[object Uint32Array]";function se(t,e,r){var s=t.constructor;switch(e){case qt:return U(t);case kt:case Gt:return new s(+t);case Ht:return St(t,r);case Jt:case Kt:case Qt:case Xt:case Yt:case Zt:case te:case ee:case re:return st(t,r);case Rt:return new s;case Tt:case Wt:return new s(t);case Vt:return It(t);case zt:return new s;case $t:return Bt(t)}}var ne=se,ie="[object Map]";function oe(t){return S(t)&&C(t)==ie}var ae=oe,V=v&&v.isMap,ue=V?I(V):ae,he="[object Set]";function ce(t){return S(t)&&C(t)==he}var de=ce,z=v&&v.isSet,le=z?I(z):de,_e=1,pe=2,fe=4,W="[object Arguments]",be="[object Array]",ge="[object Boolean]",ve="[object Date]",me="[object Error]",$="[object Function]",je="[object GeneratorFunction]",ye="[object Map]",we="[object Number]",q="[object Object]",Oe="[object RegExp]",Ce="[object Set]",Ee="[object String]",Ae="[object Symbol]",Ne="[object WeakMap]",De="[object ArrayBuffer]",Le="[object DataView]",Pe="[object Float32Array]",Fe="[object Float64Array]",Se="[object Int8Array]",xe="[object Int16Array]",Me="[object Int32Array]",Ie="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Be="[object Uint16Array]",ke="[object Uint32Array]",a={};a[W]=a[be]=a[De]=a[Le]=a[ge]=a[ve]=a[Pe]=a[Fe]=a[Se]=a[xe]=a[Me]=a[ye]=a[we]=a[q]=a[Oe]=a[Ce]=a[Ee]=a[Ae]=a[Ie]=a[Ue]=a[Be]=a[ke]=!0,a[me]=a[$]=a[Ne]=!1;function w(t,e,r,s,i,n){var o,u=e&_e,g=e&pe,Q=e&fe;if(r&&(o=i?r(t,s,i,n):r(t)),o!==void 0)return o;if(!tt(t))return t;var D=X(t);if(D){if(o=Pt(t),!u)return rt(t,o)}else{var f=C(t),L=f==$||f==je;if(Z(t))return it(t,u);if(f==q||f==W||L&&!i){if(o=g||L?{}:at(t),!u)return g?Et(t,yt(o,t)):Ot(t,mt(o,t))}else{if(!a[f])return i?t:{};o=ne(t,f,u)}}n||(n=new Y);var P=n.get(t);if(P)return P;n.set(t,o),le(t)?t.forEach(function(c){o.add(w(c,e,r,c,t,n))}):ue(t)&&t.forEach(function(c,d){o.set(d,w(c,e,r,d,t,n))});var F=D?void 0:(Q?g?Nt:_t:g?E:h)(t);return dt(F||t,function(c,d){F&&(d=c,c=t[d]),ot(o,d,w(c,e,r,d,t,n))}),o}var Ge=w;function Re(t,e){return et(e,function(r){return t[r]})}var Te=Re;function Ve(t){return t==null?[]:Te(t,h(t))}var O=Ve;function ze(t){return t===void 0}var _=ze,We=ht(function(t){return ct(gt(t,1,nt,!0))}),$e="\0",p="\0",H="",A=class{constructor(t={}){this._isDirected=Object.prototype.hasOwnProperty.call(t,"directed")?t.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=j(void 0),this._defaultEdgeLabelFn=j(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[p]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return M(t)||(t=j(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return h(this._nodes)}sources(){var t=this;return y(this.nodes(),function(e){return k(t._in[e])})}sinks(){var t=this;return y(this.nodes(),function(e){return k(t._out[e])})}setNodes(t,e){var r=arguments,s=this;return l(t,function(i){r.length>1?s.setNode(i,e):s.setNode(i)}),this}setNode(t,e){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=p,this._children[t]={},this._children[p][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var e=r=>this.removeEdge(this._edgeObjs[r]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],l(this.children(t),r=>{this.setParent(r)}),delete this._children[t]),l(h(this._in[t]),e),delete this._in[t],delete this._preds[t],l(h(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(_(e))e=p;else{e+="";for(var r=e;!_(r);r=this.parent(r))if(r===t)throw Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if(e!==p)return e}}children(t){if(_(t)&&(t=p),this._isCompound){var e=this._children[t];if(e)return h(e)}else{if(t===p)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return h(e)}successors(t){var e=this._sucs[t];if(e)return h(e)}neighbors(t){var e=this.predecessors(t);if(e)return We(e,this.successors(t))}isLeaf(t){return(this.isDirected()?this.successors(t):this.neighbors(t)).length===0}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;l(this._nodes,function(n,o){t(o)&&e.setNode(o,n)}),l(this._edgeObjs,function(n){e.hasNode(n.v)&&e.hasNode(n.w)&&e.setEdge(n,r.edge(n))});var s={};function i(n){var o=r.parent(n);return o===void 0||e.hasNode(o)?(s[n]=o,o):o in s?s[o]:i(o)}return this._isCompound&&l(e.nodes(),function(n){e.setParent(n,i(n))}),e}setDefaultEdgeLabel(t){return M(t)||(t=j(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return O(this._edgeObjs)}setPath(t,e){var r=this,s=arguments;return lt(t,function(i,n){return s.length>1?r.setEdge(i,n,e):r.setEdge(i,n),n}),this}setEdge(){var t,e,r,s,i=!1,n=arguments[0];typeof n=="object"&&n&&"v"in n?(t=n.v,e=n.w,r=n.name,arguments.length===2&&(s=arguments[1],i=!0)):(t=n,e=arguments[1],r=arguments[3],arguments.length>2&&(s=arguments[2],i=!0)),t=""+t,e=""+e,_(r)||(r=""+r);var o=b(this._isDirected,t,e,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return i&&(this._edgeLabels[o]=s),this;if(!_(r)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=i?s:this._defaultEdgeLabelFn(t,e,r);var u=qe(this._isDirected,t,e,r);return t=u.v,e=u.w,Object.freeze(u),this._edgeObjs[o]=u,J(this._preds[e],t),J(this._sucs[t],e),this._in[e][o]=u,this._out[t][o]=u,this._edgeCount++,this}edge(t,e,r){var s=arguments.length===1?N(this._isDirected,arguments[0]):b(this._isDirected,t,e,r);return this._edgeLabels[s]}hasEdge(t,e,r){var s=arguments.length===1?N(this._isDirected,arguments[0]):b(this._isDirected,t,e,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,s)}removeEdge(t,e,r){var s=arguments.length===1?N(this._isDirected,arguments[0]):b(this._isDirected,t,e,r),i=this._edgeObjs[s];return i&&(t=i.v,e=i.w,delete this._edgeLabels[s],delete this._edgeObjs[s],K(this._preds[e],t),K(this._sucs[t],e),delete this._in[e][s],delete this._out[t][s],this._edgeCount--),this}inEdges(t,e){var r=this._in[t];if(r){var s=O(r);return e?y(s,function(i){return i.v===e}):s}}outEdges(t,e){var r=this._out[t];if(r){var s=O(r);return e?y(s,function(i){return i.w===e}):s}}nodeEdges(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}};A.prototype._nodeCount=0,A.prototype._edgeCount=0;function J(t,e){t[e]?t[e]++:t[e]=1}function K(t,e){--t[e]||delete t[e]}function b(t,e,r,s){var i=""+e,n=""+r;if(!t&&i>n){var o=i;i=n,n=o}return i+H+n+H+(_(s)?$e:s)}function qe(t,e,r,s){var i=""+e,n=""+r;if(!t&&i>n){var o=i;i=n,n=o}var u={v:i,w:n};return s&&(u.name=s),u}function N(t,e){return b(t,e.v,e.w,e.name)}export{Ge as i,_ as n,O as r,A as t};
