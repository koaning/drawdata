var ct=Object.defineProperty;var ht=(t,n,s)=>n in t?ct(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var V=(t,n,s)=>ht(t,typeof n!="symbol"?n+"":n,s);import{t as F}from"./chunk-LvLJmgfZ.js";import{i as lt,l as ft,n as dt,o as pt,p as $,u as gt}from"./useEvent-DlWF5OMa.js";import{t as yt}from"./compiler-runtime-DeeZ7FnK.js";import{d as M}from"./hotkeys-uKX61F1_.js";import{t as Lt}from"./utils-Czt8B2GX.js";import{r as j}from"./constants-Bkp4R3bQ.js";import{t as wt}from"./Deferred-DzyBMRsy.js";function Y(){return typeof document<"u"&&document.querySelector("marimo-wasm")!==null}const S={NOT_STARTED:"NOT_STARTED",CONNECTING:"CONNECTING",OPEN:"OPEN",CLOSING:"CLOSING",CLOSED:"CLOSED"},mt={KERNEL_DISCONNECTED:"KERNEL_DISCONNECTED",ALREADY_RUNNING:"ALREADY_RUNNING",MALFORMED_QUERY:"MALFORMED_QUERY",KERNEL_STARTUP_ERROR:"KERNEL_STARTUP_ERROR"},W=$({state:S.NOT_STARTED});function bt(){return pt(W,t=>t.state===S.OPEN)}const St=$(t=>t(W).state===S.CONNECTING);$(t=>t(W).state===S.OPEN);const Et=$(t=>{let n=t(W);return n.state===S.OPEN||n.state===S.NOT_STARTED}),Rt=$(t=>t(W).state===S.CLOSED),Ot=$(t=>t(W).state===S.NOT_STARTED);function Ut(t){return t===S.CLOSED}function kt(t){return t===S.CONNECTING}function It(t){return t===S.OPEN}function vt(t){return t===S.CLOSING}function q(t){return t===S.NOT_STARTED}function Nt(t){return t===S.CLOSED||t===S.CLOSING||t===S.CONNECTING}function _t(t){switch(t){case S.CLOSED:return"App disconnected";case S.CONNECTING:return"Connecting to a runtime ...";case S.CLOSING:return"App disconnecting...";case S.OPEN:return"";case S.NOT_STARTED:return"Click to connect to a runtime";default:return""}}var xt=F((t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=L,t.fromBig=f,t.split=h;var n=BigInt(2**32-1),s=BigInt(32);function f(o,i=!1){return i?{h:Number(o&n),l:Number(o>>s&n)}:{h:Number(o>>s&n)|0,l:Number(o&n)|0}}function h(o,i=!1){let e=o.length,d=new Uint32Array(e),O=new Uint32Array(e);for(let I=0;I<e;I++){let{h:A,l:G}=f(o[I],i);[d[I],O[I]]=[A,G]}return[d,O]}var R=(o,i)=>BigInt(o>>>0)<<s|BigInt(i>>>0);t.toBig=R;var E=(o,i,e)=>o>>>e;t.shrSH=E;var C=(o,i,e)=>o<<32-e|i>>>e;t.shrSL=C;var H=(o,i,e)=>o>>>e|i<<32-e;t.rotrSH=H;var P=(o,i,e)=>o<<32-e|i>>>e;t.rotrSL=P;var v=(o,i,e)=>o<<64-e|i>>>e-32;t.rotrBH=v;var N=(o,i,e)=>o>>>e-32|i<<64-e;t.rotrBL=N;var T=(o,i)=>i;t.rotr32H=T;var D=(o,i)=>o;t.rotr32L=D;var _=(o,i,e)=>o<<e|i>>>32-e;t.rotlSH=_;var k=(o,i,e)=>i<<e|o>>>32-e;t.rotlSL=k;var p=(o,i,e)=>i<<e-32|o>>>64-e;t.rotlBH=p;var w=(o,i,e)=>o<<e-32|i>>>64-e;t.rotlBL=w;function L(o,i,e,d){let O=(i>>>0)+(d>>>0);return{h:o+e+(O/2**32|0)|0,l:O|0}}var y=(o,i,e)=>(o>>>0)+(i>>>0)+(e>>>0);t.add3L=y;var B=(o,i,e,d)=>i+e+d+(o/2**32|0)|0;t.add3H=B;var l=(o,i,e,d)=>(o>>>0)+(i>>>0)+(e>>>0)+(d>>>0);t.add4L=l;var a=(o,i,e,d,O)=>i+e+d+O+(o/2**32|0)|0;t.add4H=a;var c=(o,i,e,d,O)=>(o>>>0)+(i>>>0)+(e>>>0)+(d>>>0)+(O>>>0);t.add5L=c;var g=(o,i,e,d,O,I)=>i+e+d+O+I+(o/2**32|0)|0;t.add5H=g,t.default={fromBig:f,split:h,toBig:R,shrSH:E,shrSL:C,rotrSH:H,rotrSL:P,rotrBH:v,rotrBL:N,rotr32H:T,rotr32L:D,rotlSH:_,rotlSL:k,rotlBH:p,rotlBL:w,add:L,add3L:y,add3H:B,add4L:l,add4H:a,add5H:g,add5L:c}})),Ct=F((t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0})),Ht=F((t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=s,t.anumber=f,t.abytes=h,t.ahash=R,t.aexists=E,t.aoutput=C,t.u8=H,t.u32=P,t.clean=v,t.createView=N,t.rotr=T,t.rotl=D,t.byteSwap=_,t.byteSwap32=k,t.bytesToHex=L,t.hexToBytes=l,t.asyncLoop=a,t.utf8ToBytes=c,t.bytesToUtf8=g,t.toBytes=o,t.kdfInputToBytes=i,t.concatBytes=e,t.checkOpts=d,t.createHasher=O,t.createOptHasher=I,t.createXOFer=A,t.randomBytes=G;var n=Ct();function s(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function f(r){if(!Number.isSafeInteger(r)||r<0)throw Error("positive integer expected, got "+r)}function h(r,...u){if(!s(r))throw Error("Uint8Array expected");if(u.length>0&&!u.includes(r.length))throw Error("Uint8Array expected of length "+u+", got length="+r.length)}function R(r){if(typeof r!="function"||typeof r.create!="function")throw Error("Hash should be wrapped by utils.createHasher");f(r.outputLen),f(r.blockLen)}function E(r,u=!0){if(r.destroyed)throw Error("Hash instance has been destroyed");if(u&&r.finished)throw Error("Hash#digest() has already been called")}function C(r,u){h(r);let m=u.outputLen;if(r.length<m)throw Error("digestInto() expects output buffer of length at least "+m)}function H(r){return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}function P(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function v(...r){for(let u=0;u<r.length;u++)r[u].fill(0)}function N(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function T(r,u){return r<<32-u|r>>>u}function D(r,u){return r<<u|r>>>32-u>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}t.swap8IfBE=t.isLE?r=>r:r=>_(r),t.byteSwapIfBE=t.swap8IfBE;function k(r){for(let u=0;u<r.length;u++)r[u]=_(r[u]);return r}t.swap32IfBE=t.isLE?r=>r:k;var p=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",w=Array.from({length:256},(r,u)=>u.toString(16).padStart(2,"0"));function L(r){if(h(r),p)return r.toHex();let u="";for(let m=0;m<r.length;m++)u+=w[r[m]];return u}var y={_0:48,_9:57,A:65,F:70,a:97,f:102};function B(r){if(r>=y._0&&r<=y._9)return r-y._0;if(r>=y.A&&r<=y.F)return r-(y.A-10);if(r>=y.a&&r<=y.f)return r-(y.a-10)}function l(r){if(typeof r!="string")throw Error("hex string expected, got "+typeof r);if(p)return Uint8Array.fromHex(r);let u=r.length,m=u/2;if(u%2)throw Error("hex string expected, got unpadded hex of length "+u);let b=new Uint8Array(m);for(let U=0,x=0;U<m;U++,x+=2){let X=B(r.charCodeAt(x)),K=B(r.charCodeAt(x+1));if(X===void 0||K===void 0){let ut=r[x]+r[x+1];throw Error('hex string expected, got non-hex character "'+ut+'" at index '+x)}b[U]=X*16+K}return b}t.nextTick=async()=>{};async function a(r,u,m){let b=Date.now();for(let U=0;U<r;U++){m(U);let x=Date.now()-b;x>=0&&x<u||(await(0,t.nextTick)(),b+=x)}}function c(r){if(typeof r!="string")throw Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function g(r){return new TextDecoder().decode(r)}function o(r){return typeof r=="string"&&(r=c(r)),h(r),r}function i(r){return typeof r=="string"&&(r=c(r)),h(r),r}function e(...r){let u=0;for(let b=0;b<r.length;b++){let U=r[b];h(U),u+=U.length}let m=new Uint8Array(u);for(let b=0,U=0;b<r.length;b++){let x=r[b];m.set(x,U),U+=x.length}return m}function d(r,u){if(u!==void 0&&{}.toString.call(u)!=="[object Object]")throw Error("options should be object or undefined");return Object.assign(r,u)}t.Hash=class{};function O(r){let u=b=>r().update(o(b)).digest(),m=r();return u.outputLen=m.outputLen,u.blockLen=m.blockLen,u.create=()=>r(),u}function I(r){let u=(b,U)=>r(U).update(o(b)).digest(),m=r({});return u.outputLen=m.outputLen,u.blockLen=m.blockLen,u.create=b=>r(b),u}function A(r){let u=(b,U)=>r(U).update(o(b)).digest(),m=r({});return u.outputLen=m.outputLen,u.blockLen=m.blockLen,u.create=b=>r(b),u}t.wrapConstructor=O,t.wrapConstructorWithOpts=I,t.wrapXOFConstructorWithOpts=A;function G(r=32){if(n.crypto&&typeof n.crypto.getRandomValues=="function")return n.crypto.getRandomValues(new Uint8Array(r));if(n.crypto&&typeof n.crypto.randomBytes=="function")return Uint8Array.from(n.crypto.randomBytes(r));throw Error("crypto.getRandomValues must be defined")}})),Tt=F((t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=w;var n=xt(),s=Ht(),f=BigInt(0),h=BigInt(1),R=BigInt(2),E=BigInt(7),C=BigInt(256),H=BigInt(113),P=[],v=[],N=[];for(let l=0,a=h,c=1,g=0;l<24;l++){[c,g]=[g,(2*c+3*g)%5],P.push(2*(5*g+c)),v.push((l+1)*(l+2)/2%64);let o=f;for(let i=0;i<7;i++)a=(a<<h^(a>>E)*H)%C,a&R&&(o^=h<<(h<<BigInt(i))-h);N.push(o)}var T=(0,n.split)(N,!0),D=T[0],_=T[1],k=(l,a,c)=>c>32?(0,n.rotlBH)(l,a,c):(0,n.rotlSH)(l,a,c),p=(l,a,c)=>c>32?(0,n.rotlBL)(l,a,c):(0,n.rotlSL)(l,a,c);function w(l,a=24){let c=new Uint32Array(10);for(let g=24-a;g<24;g++){for(let e=0;e<10;e++)c[e]=l[e]^l[e+10]^l[e+20]^l[e+30]^l[e+40];for(let e=0;e<10;e+=2){let d=(e+8)%10,O=(e+2)%10,I=c[O],A=c[O+1],G=k(I,A,1)^c[d],r=p(I,A,1)^c[d+1];for(let u=0;u<50;u+=10)l[e+u]^=G,l[e+u+1]^=r}let o=l[2],i=l[3];for(let e=0;e<24;e++){let d=v[e],O=k(o,i,d),I=p(o,i,d),A=P[e];o=l[A],i=l[A+1],l[A]=O,l[A+1]=I}for(let e=0;e<50;e+=10){for(let d=0;d<10;d++)c[d]=l[e+d];for(let d=0;d<10;d++)l[e+d]^=~c[(d+2)%10]&c[(d+4)%10]}l[0]^=D[g],l[1]^=_[g]}(0,s.clean)(c)}var L=class at extends s.Hash{constructor(a,c,g,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=a,this.suffix=c,this.outputLen=g,this.enableXOF=o,this.rounds=i,(0,s.anumber)(g),!(0<a&&a<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,s.swap32IfBE)(this.state32),w(this.state32,this.rounds),(0,s.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(a){(0,s.aexists)(this),a=(0,s.toBytes)(a),(0,s.abytes)(a);let{blockLen:c,state:g}=this,o=a.length;for(let i=0;i<o;){let e=Math.min(c-this.pos,o-i);for(let d=0;d<e;d++)g[this.pos++]^=a[i++];this.pos===c&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:c,pos:g,blockLen:o}=this;a[g]^=c,c&128&&g===o-1&&this.keccak(),a[o-1]^=128,this.keccak()}writeInto(a){(0,s.aexists)(this,!1),(0,s.abytes)(a),this.finish();let c=this.state,{blockLen:g}=this;for(let o=0,i=a.length;o<i;){this.posOut>=g&&this.keccak();let e=Math.min(g-this.posOut,i-o);a.set(c.subarray(this.posOut,this.posOut+e),o),this.posOut+=e,o+=e}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return(0,s.anumber)(a),this.xofInto(new Uint8Array(a))}digestInto(a){if((0,s.aoutput)(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,s.clean)(this.state)}_cloneInto(a){let{blockLen:c,suffix:g,outputLen:o,rounds:i,enableXOF:e}=this;return a||(a=new at(c,g,o,e,i)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=i,a.suffix=g,a.outputLen=o,a.enableXOF=e,a.destroyed=this.destroyed,a}};t.Keccak=L;var y=(l,a,c)=>(0,s.createHasher)(()=>new L(a,l,c));t.sha3_224=y(6,144,224/8),t.sha3_256=y(6,136,256/8),t.sha3_384=y(6,104,384/8),t.sha3_512=y(6,72,512/8),t.keccak_224=y(1,144,224/8),t.keccak_256=y(1,136,256/8),t.keccak_384=y(1,104,384/8),t.keccak_512=y(1,72,512/8);var B=(l,a,c)=>(0,s.createXOFer)((g={})=>new L(a,l,g.dkLen===void 0?c:g.dkLen,!0));t.shake128=B(31,168,128/8),t.shake256=B(31,136,256/8)})),Bt=F(((t,n)=>{var{sha3_512:s}=Tt(),f=24,h=32,R=(p=4,w=Math.random)=>{let L="";for(;L.length<p;)L+=Math.floor(w()*36).toString(36);return L};function E(p){let w=0n;for(let L of p.values()){let y=BigInt(L);w=(w<<8n)+y}return w}var C=(p="")=>E(s(p)).toString(36).slice(1),H=Array.from({length:26},(p,w)=>String.fromCharCode(w+97)),P=p=>H[Math.floor(p()*H.length)],v=({globalObj:p=typeof global<"u"?global:typeof window<"u"?window:{},random:w=Math.random}={})=>{let L=Object.keys(p).toString();return C(L.length?L+R(h,w):R(h,w)).substring(0,h)},N=p=>()=>p++,T=476782367,D=({random:p=Math.random,counter:w=N(Math.floor(p()*T)),length:L=f,fingerprint:y=v({random:p})}={})=>function(){let B=P(p),l=Date.now().toString(36),a=w().toString(36);return`${B+C(`${l+R(L,p)+a+y}`).substring(1,L)}`},_=D(),k=(p,{minLength:w=2,maxLength:L=h}={})=>{let y=p.length,B=/^[0-9a-z]+$/;return!!(typeof p=="string"&&y>=w&&y<=L&&B.test(p))};n.exports.getConstants=()=>({defaultLength:f,bigLength:h}),n.exports.init=D,n.exports.createId=_,n.exports.bufToBigInt=E,n.exports.createCounter=N,n.exports.createFingerprint=v,n.exports.isCuid=k})),Q=F(((t,n)=>{var{createId:s,init:f,getConstants:h,isCuid:R}=Bt();n.exports.createId=s,n.exports.init=f,n.exports.getConstants=h,n.exports.isCuid=R}));function J(t){return new URL(t,document.baseURI)}function Z(t){let n=new URL(window.location.href);t(n.searchParams),window.history.replaceState({},"",n.toString())}function At(t,n){if(typeof window>"u")return!1;let s=new URLSearchParams(window.location.search);return n===void 0?s.has(t):s.get(t)===n}function Pt(){return J(`?file=${`__new__${tt()}`}`).toString()}var Dt=/^(https?:\/\/\S+)$/;function $t(t){return typeof t=="string"&&Dt.test(t)}function Mt({href:t,queryParams:n,keys:s}){let f=typeof n=="string"?new URLSearchParams(n):n;if(f.size===0||t.startsWith("http://")||t.startsWith("https://"))return t;let h=t.startsWith("#"),R=h&&t.includes("?");if(h&&!R){let k=s?[...f.entries()].filter(([L])=>s.includes(L)):[...f.entries()],p=new URLSearchParams;for(let[L,y]of k)p.set(L,y);let w=p.toString();return w?`/?${w}${t}`:t}let E=t,C="",H=new URLSearchParams,P=h?1:0,v=t.indexOf("#",P);v!==-1&&(C=t.slice(v),E=t.slice(0,v));let N=E.indexOf("?");N!==-1&&(H=new URLSearchParams(E.slice(N+1)),E=E.slice(0,N));let T=new URLSearchParams(H),D=s?[...f.entries()].filter(([k])=>s.includes(k)):[...f.entries()];for(let[k,p]of D)T.set(k,p);let _=T.toString();return _?`${E}?${_}${C}`:t}var Wt=(0,Q().init)({length:6});function tt(){return`s_${Wt()}`}function rt(t){return t?/^s_[\da-z]{6}$/.test(t):!1}var Ft=(()=>{let t=new URL(window.location.href).searchParams.get(j.sessionId);return rt(t)?(Z(n=>{n.has(j.kiosk)||n.delete(j.sessionId)}),M.debug("Connecting to existing session",{sessionId:t}),t):(M.debug("Starting a new session",{sessionId:t}),tt())})();function z(){return Ft}var jt=class{constructor(t,n=!1){V(this,"initialHealthyCheck",new wt);this.config=t,this.lazy=n;try{new URL(this.config.url)}catch(s){throw Error(`Invalid runtime URL: ${this.config.url}. ${s instanceof Error?s.message:"Unknown error"}`)}this.lazy||this.init()}get isLazy(){return this.lazy}get httpURL(){return new URL(this.config.url)}get isSameOrigin(){return this.httpURL.origin===window.location.origin}formatHttpURL(t,n,s=!0){t||(t="");let f=this.httpURL,h=new URLSearchParams(window.location.search);if(n)for(let[R,E]of n.entries())f.searchParams.set(R,E);for(let[R,E]of h.entries())s&&!Object.values(j).includes(R)||f.searchParams.set(R,E);return f.pathname=`${f.pathname.replace(/\/$/,"")}/${t.replace(/^\//,"")}`,f.hash="",f}formatWsURL(t,n){return Gt(this.formatHttpURL(t,n,!1).toString())}getWsURL(t){let n=new URL(this.config.url),s=new URLSearchParams(n.search);return new URLSearchParams(window.location.search).forEach((f,h)=>{s.has(h)||s.set(h,f)}),s.set(j.sessionId,t),this.formatWsURL("/ws",s)}getWsSyncURL(t){let n=new URL(this.config.url),s=new URLSearchParams(n.search);return new URLSearchParams(window.location.search).forEach((f,h)=>{s.has(h)||s.set(h,f)}),s.set(j.sessionId,t),this.formatWsURL("/ws_sync",s)}getTerminalWsURL(){return this.formatWsURL("/terminal/ws")}getLSPURL(t){if(t==="copilot"){let n=this.formatWsURL(`/lsp/${t}`);return n.search="",n}return this.formatWsURL(`/lsp/${t}`)}getAiURL(t){return this.formatHttpURL(`/api/ai/${t}`)}healthURL(){return this.formatHttpURL("/health")}async isHealthy(){if(Y()||Lt())return!0;try{let t=await fetch(this.healthURL().toString());if(t.redirected){M.debug(`Runtime redirected to ${t.url}`);let s=t.url.replace(/\/health$/,"");this.config.url=s}let n=t.ok;return n&&this.setDOMBaseUri(this.config.url),n}catch{return!1}}setDOMBaseUri(t){t=t.split("?",1)[0],t.endsWith("/")||(t+="/");let n=document.querySelector("base");n?n.setAttribute("href",t):(n=document.createElement("base"),n.setAttribute("href",t),document.head.append(n))}async init(t){M.debug("Initializing runtime...");let n=0;for(;!await this.isHealthy();){if(n>=25){M.error("Failed to connect after 25 retries"),this.initialHealthyCheck.reject(Error("Failed to connect after 25 retries"));return}if(!(t!=null&&t.disableRetryDelay)){let s=Math.min(100*1.2**n,2e3);await new Promise(f=>setTimeout(f,s))}n++}M.debug("Runtime is healthy"),this.initialHealthyCheck.resolve()}async waitForHealthy(){return this.initialHealthyCheck.promise}headers(){let t={"Marimo-Session-Id":z(),"Marimo-Server-Token":this.config.serverToken??"","x-runtime-url":this.httpURL.toString()};return this.config.authToken&&(t.Authorization=`Bearer ${this.config.authToken}`),t}sessionHeaders(){return{"Marimo-Session-Id":z()}}};function Gt(t){if(!t.startsWith("http")){M.warn(`URL must start with http: ${t}`);let n=new URL(t);return n.protocol="ws",n}return new URL(t.replace(/^http/,"ws"))}var zt=yt();function Xt(){let t=new URL(document.baseURI);return t.search="",t.hash="",t.toString()}const nt={lazy:!0,url:Xt()},et=$(nt);var ot=$(t=>{let n=t(et);return new jt(n,n.lazy)});function st(){return gt(ot)}function Kt(){let t=(0,zt.c)(4),n=st(),[s,f]=ft(W),h;return t[0]!==s.state||t[1]!==n||t[2]!==f?(h=async()=>{q(s.state)?(f({state:S.CONNECTING}),await n.init()):M.log("Runtime already started or starting...")},t[0]=s.state,t[1]=n,t[2]=f,t[3]=h):h=t[3],dt(h)}function it(){return lt.get(ot)}function Vt(t){if(t.startsWith("http"))return new URL(t);let n=it().httpURL.toString();return n.startsWith("blob:")&&(n=n.replace("blob:","")),new URL(t,n)}export{S as A,Et as C,Ot as D,St as E,bt as O,q as S,Rt as T,Ut as _,Kt as a,kt as b,rt as c,$t as d,Pt as f,_t as g,Q as h,et as i,Y as j,mt as k,Mt as l,J as m,Vt as n,st as o,Z as p,it as r,z as s,nt as t,At as u,vt as v,W as w,Nt as x,It as y};
